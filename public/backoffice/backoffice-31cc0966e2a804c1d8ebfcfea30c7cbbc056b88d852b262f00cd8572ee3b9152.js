function checkPostCode(e){var t="[abcdefghijklmnoprstuwyz]",n="[abcdefghklmnopqrstuvwxy]",i="[abcdefghjkpmnrstuvwxy]",r="[abehmnprvwxy]",a="[abdefghjlnpqrstuwxyz]",s=new Array;s.push(new RegExp("^("+t+"{1}"+n+"?[0-9]{1,2})(\\s*)([0-9]{1}"+a+"{2})$","i")),s.push(new RegExp("^("+t+"{1}[0-9]{1}"+i+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),s.push(new RegExp("^("+t+"{1}"+n+"{1}?[0-9]{1}"+r+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),s.push(/^(GIR)(\s*)(0AA)$/i),s.push(/^(bfpo)(\s*)([0-9]{1,4})$/i),s.push(/^(bfpo)(\s*)(c\/o\s*[0-9]{1,3})$/i),s.push(/^([A-Z]{4})(\s*)(1ZZ)$/i),s.push(/^(ai-2640)$/i);for(var o=e,l=!1,u=0;u<s.length;u++)if(s[u].test(o)){s[u].exec(o),o=RegExp.$1.toUpperCase()+" "+RegExp.$3.toUpperCase(),o=o.replace(/C\/O\s*/,"c/o "),"AI-2640"==e.toUpperCase()&&(o="AI-2640"),l=!0;break}return l?o:!1}function logger(e,t){"test"===window.ENV&&console.log(e+" "+JSON.stringify(t))}function businessQuestionnaire(){return $("body").hasClass("business")}function landlordQuestionnaire(){return $("body").hasClass("landlord")}function manualEmployeesPresent(){return businessQuestionnaire()&&$("#manual_employees").length>0}function clericalEmployeesPresent(){return businessQuestionnaire()&&$("#clerical_employees").length>0}function manualDirectorsPresent(){return businessQuestionnaire()&&$("#manual_directors").length>0}function clericalDirectorsPresent(){return businessQuestionnaire()&&$("#clerical_directors").length>0}function manualPartnersPresent(){return businessQuestionnaire()&&$("#manual_partners").length>0}function clericalPartnersPresent(){return businessQuestionnaire()&&$("#clerical_partners").length>0}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=rt.type(e);return"function"===n||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(rt.isFunction(t))return rt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return rt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return rt.filter(t,e,n);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=_t[e]={};return rt.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function s(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1)):(ft.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(s(),rt.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Dt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xt.test(n)?rt.parseJSON(n):n}catch(r){}rt.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(rt.acceptData(e)){var r,a,s=rt.expando,o=e.nodeType,l=o?rt.cache:e,u=o?e[s]:e[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=o?e[s]=K.pop()||rt.guid++:s),l[u]||(l[u]=o?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[u]=rt.extend(l[u],t):l[u].data=rt.extend(l[u].data,t)),a=l[u],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[rt.camelCase(t)]=n),"string"==typeof t?(r=a[t],null==r&&(r=a[rt.camelCase(t)])):r=a,r}}function d(e,t,n){if(rt.acceptData(e)){var i,r,a=e.nodeType,s=a?rt.cache:e,o=a?e[rt.expando]:rt.expando;if(s[o]){if(t&&(i=n?s[o]:s[o].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in i?t=[t]:(t=rt.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!u(i):!rt.isEmptyObject(i))return}(n||(delete s[o].data,u(s[o])))&&(a?rt.cleanData([e],!0):nt.deleteExpando||s!=s.window?delete s[o]:s[o]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return ft.activeElement}catch(e){}}function m(e){var t=Pt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,r=0,a=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||rt.nodeName(i,t)?a.push(i):rt.merge(a,g(i,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],a):a}function v(e){Mt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){for(var n,i=0;null!=(n=e[i]);i++)rt._data(n,"globalEval",!t||rt._data(t[i],"globalEval"))}function w(e,t){if(1===t.nodeType&&rt.hasData(e)){var n,i,r,a=rt._data(e),s=rt._data(t,a),o=a.events;if(o){delete s.handle,s.events={};for(n in o)for(i=0,r=o[n].length;r>i;i++)rt.event.add(t,n,o[n][i])}s.data&&(s.data=rt.extend({},s.data))}}function C(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[rt.expando]){r=rt._data(t);for(i in r.events)rt.removeEvent(t,i,r.handle);t.removeAttribute(rt.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Mt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(t,n){var i,r=rt(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),a}function D(e){var t=ft,n=Zt[e];return n||(n=x(e,t),"none"!==n&&n||(Jt=(Jt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),n=x(e,t),Jt.detach()),Zt[e]=n),n}function T(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=pn.length;r--;)if(t=pn[r]+n,t in e)return t;return i}function E(e,t){for(var n,i,r,a=[],s=0,o=e.length;o>s;s++)i=e[s],i.style&&(a[s]=rt._data(i,"olddisplay"),n=i.style.display,t?(a[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Et(i)&&(a[s]=rt._data(i,"olddisplay",D(i.nodeName)))):(r=Et(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(s=0;o>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[s]||"":"none"));return e}function S(e,t,n){var i=un.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function M(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>a;a+=2)"margin"===n&&(s+=rt.css(e,n+Ft[a],!0,r)),i?("content"===n&&(s-=rt.css(e,"padding"+Ft[a],!0,r)),"margin"!==n&&(s-=rt.css(e,"border"+Ft[a]+"Width",!0,r))):(s+=rt.css(e,"padding"+Ft[a],!0,r),"padding"!==n&&(s+=rt.css(e,"border"+Ft[a]+"Width",!0,r)));return s}function I(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=en(e),s=nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=tn(e,t,a),(0>r||null==r)&&(r=e.style[t]),rn.test(r))return r;i=s&&(nt.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+M(e,t,n||(s?"border":"content"),i,a)+"px"}function A(e,t,n,i,r){return new A.prototype.init(e,t,n,i,r)}function N(){return setTimeout(function(){fn=void 0}),fn=rt.now()}function j(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Ft[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function R(e,t,n){for(var i,r=(_n[t]||[]).concat(_n["*"]),a=0,s=r.length;s>a;a++)if(i=r[a].call(n,t,e))return i}function P(e,t,n){var i,r,a,s,o,l,u,c,d=this,h={},p=e.style,f=e.nodeType&&Et(e),m=rt._data(e,"fxshow");n.queue||(o=rt._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,rt.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=rt.css(e,"display"),c="none"===u?rt._data(e,"olddisplay")||D(e.nodeName):u,"inline"===c&&"none"===rt.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],gn.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||rt.style(e,i)}else u=void 0;if(rt.isEmptyObject(h))"inline"===("none"===u?D(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=rt._data(e,"fxshow",{}),a&&(m.hidden=!f),f?rt(e).show():d.done(function(){rt(e).hide()}),d.done(function(){var t;rt._removeData(e,"fxshow");for(t in h)rt.style(e,t,h[t])});for(i in h)s=R(f?m[i]:0,i,d),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,r,a,s;for(n in e)if(i=rt.camelCase(n),r=t[i],a=e[n],rt.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),s=rt.cssHooks[i],s&&"expand"in s){a=s.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function L(e,t,n){var i,r,a=0,s=bn.length,o=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=fn||N(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,a=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(a);return o.notifyWith(e,[u,a,n]),1>a&&l?n:(o.resolveWith(e,[u]),!1)},u=o.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fn||N(),duration:n.duration,tweens:[],createTween:function(t,n){var i=rt.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?o.resolveWith(e,[u,t]):o.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);s>a;a++)if(i=bn[a].call(u,e,c,u.opts))return i;return rt.map(c,R,u),rt.isFunction(u.opts.start)&&u.opts.start.call(e,u),rt.fx.timer(rt.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(bt)||[];if(rt.isFunction(n))for(;i=a[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function $(e,t,n,i){function r(o){var l;return a[o]=!0,rt.each(e[o]||[],function(e,o){var u=o(t,n,i);return"string"!=typeof u||s||a[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var a={},s=e===zn;return r(t.dataTypes[0])||!a["*"]&&r("*")}function q(e,t){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&rt.extend(!0,e,n),e}function H(e,t,n){for(var i,r,a,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in o)if(o[s]&&o[s].test(r)){l.unshift(s);break}if(l[0]in n)a=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function W(e,t,n,i){var r,a,s,o,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(s=u[l+" "+a]||u["* "+a],!s)for(r in u)if(o=r.split(" "),o[1]===a&&(s=u[l+" "+o[0]]||u["* "+o[0]])){s===!0?s=u[r]:u[r]!==!0&&(a=o[0],c.unshift(o[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function z(e,t,n,i){var r;if(rt.isArray(t))rt.each(t,function(t,r){n||Kn.test(e)?i(e,r):z(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==rt.type(t))i(e,t);else for(r in t)z(e+"["+r+"]",t[r],n,i)}function Y(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var K=[],Q=K.slice,X=K.concat,G=K.push,J=K.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},it="1.11.3",rt=function(e,t){return new rt.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,ot=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:K.sort,splice:K.splice},rt.extend=rt.fn.extend=function(){var e,t,n,i,r,a,s=arguments[0]||{},o=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[o]||{},o++),"object"==typeof s||rt.isFunction(s)||(s={}),o===l&&(s=this,o--);l>o;o++)if(null!=(r=arguments[o]))for(i in r)e=s[i],n=r[i],s!==n&&(u&&n&&(rt.isPlainObject(n)||(t=rt.isArray(n)))?(t?(t=!1,a=e&&rt.isArray(e)?e:[]):a=e&&rt.isPlainObject(e)?e:{},s[i]=rt.extend(u,a,n)):void 0!==n&&(s[i]=n));return s},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!rt.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(ot,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,s=e.length,o=n(e);if(i){if(o)for(;s>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(o)for(;s>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?rt.merge(i,"string"==typeof e?[e]:e):G.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],a=0,s=e.length,o=!n;s>a;a++)i=!t(e[a],a),i!==o&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,s=e.length,o=n(e),l=[];if(o)for(;s>a;a++)r=t(e[a],a,i),null!=r&&l.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&l.push(r);return X.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),rt.isFunction(e)?(n=Q.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Q.call(arguments)))},i.guid=e.guid=e.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ut=function(e){function t(e,t,n,i){var r,a,s,o,l,u,d,p,f,m;if((t?t.ownerDocument||t:$)!==A&&I(t),t=t||A,n=n||[],o=t.nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!i&&j){if(11!==o&&(r=yt.exec(e)))if(s=r[1]){if(9===o){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&L(t,a)&&a.id===s)return n.push(a),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&k.getElementsByClassName)return J.apply(n,t.getElementsByClassName(s)),n}if(k.qsa&&(!R||!R.test(e))){if(p=d=B,f=t,m=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(u=D(e),(d=t.getAttribute("id"))?p=d.replace(_t,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=bt.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return J.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return F(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function r(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),s=a.length;s--;)n[r=a[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=H++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,s){var o,l,u=[q,a];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[B]||(t[B]={}),(o=l[i])&&o[0]===q&&o[1]===a)return u[2]=o[2];if(l[i]=u,u[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,a=n.length;a>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var a,s=[],o=0,l=e.length,u=null!=t;l>o;o++)(a=e[o])&&(!n||n(a,i,r))&&(s.push(a),u&&t.push(o));return s}function v(e,t,n,r,a,s){return r&&!r[B]&&(r=v(r)),a&&!a[B]&&(a=v(a,s)),i(function(i,s,o,l){var u,c,d,h=[],p=[],f=s.length,v=i||m(t||"*",o.nodeType?[o]:o,[]),y=!e||!i&&t?v:g(v,h,e,o,l),b=n?a||(i?e:f||r)?[]:s:y;if(n&&n(y,b,o,l),r)for(u=g(b,p),r(u,[],o,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(a||e){if(a){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);a(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=a?et(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else b=g(b===s?b.splice(f,b.length):b),a?a(null,s,b,l):J.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,a=w.relative[e[0].type],s=a||w.relative[" "],o=a?1:0,l=p(function(e){return e===t},s,!0),u=p(function(e){return et(t,e)>-1},s,!0),c=[function(e,n,i){var r=!a&&(i||n!==E)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>o;o++)if(n=w.relative[e[o].type])c=[p(f(c),n)];else{if(n=w.filter[e[o].type].apply(null,e[o].matches),n[B]){for(i=++o;r>i&&!w.relative[e[i].type];i++);return v(o>1&&f(c),o>1&&h(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(lt,"$1"),n,i>o&&y(e.slice(o,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}c.push(n)}return f(c)}function b(e,n){var r=n.length>0,a=e.length>0,s=function(i,s,o,l,u){var c,d,h,p=0,f="0",m=i&&[],v=[],y=E,b=i||a&&w.find.TAG("*",u),_=q+=null==y?1:Math.random()||.1,k=b.length;for(u&&(E=s!==A&&s);f!==k&&null!=(c=b[f]);f++){if(a&&c){for(d=0;h=e[d++];)if(h(c,s,o)){l.push(c);break}u&&(q=_)}r&&((c=!h&&c)&&p--,i&&m.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(m,v,s,o);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}J.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(q=_,E=y),m};return r?i(s):s}var _,k,w,C,x,D,T,F,E,S,M,I,A,N,j,R,P,O,L,B="sizzle"+1*new Date,$=e.document,q=0,H=0,W=n(),z=n(),Y=n(),U=function(e,t){return e===t&&(M=!0),0},V=1<<31,K={}.hasOwnProperty,Q=[],X=Q.pop,G=Q.push,J=Q.push,Z=Q.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),at="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",ot=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,_t=/'|\\/g,kt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){I()};try{J.apply(Q=Z.call($.childNodes),$.childNodes),Q[$.childNodes.length].nodeType}catch(xt){J={apply:Q.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:$;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,N=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),j=!x(i),k.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=vt.test(i.getElementsByClassName),k.getById=r(function(e){return N.appendChild(e).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),k.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(kt,wt);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(kt,wt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=k.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):k.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},w.find.CLASS=k.getElementsByClassName&&function(e,t){return j?t.getElementsByClassName(e):void 0},P=[],R=[],(k.qsa=vt.test(i.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+B+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||R.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(k.matchesSelector=vt.test(O=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){k.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),P.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),P=P.length&&new RegExp(P.join("|")),t=vt.test(N.compareDocumentPosition),L=t||vt.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!k.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===$&&L($,e)?-1:t===i||t.ownerDocument===$&&L($,t)?1:S?et(S,e)-et(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,r=0,a=e.parentNode,o=t.parentNode,l=[e],u=[t];if(!a||!o)return e===i?-1:t===i?1:a?-1:o?1:S?et(S,e)-et(S,t):0;if(a===o)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===$?-1:u[r]===$?1:0},i):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&I(e),n=n.replace(dt,"='$1']"),!(!k.matchesSelector||!j||P&&P.test(n)||R&&R.test(n)))try{var i=O.call(e,n);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&I(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&I(e);var n=w.attrHandle[t.toLowerCase()],i=n&&K.call(w.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==i?i:k.attributes||!j?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(M=!k.detectDuplicates,S=!k.sortStable&&e.slice(0),e.sort(U),M){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return S=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(kt,wt),e[3]=(e[3]||e[4]||e[5]||"").replace(kt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=D(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(kt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(ot," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,m=a!==s?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o;if(g){if(a){for(;m;){for(d=t;d=d[m];)if(o?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g[B]||(g[B]={}),u=c[e]||[],p=u[0]===q&&u[1],h=u[0]===q&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[q,p,h];break}}else if(y&&(u=(t[B]||(t[B]={}))[e])&&u[0]===q)h=u[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[B]||(d[B]={}))[e]=[q,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[B]?a(n):a.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),s=r.length;s--;)i=et(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(lt,"$1"));return r[B]?i(function(e,t,n,i){for(var a,s=r(e,null,i,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(kt,wt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(kt,wt).toLowerCase(),function(t){var n;do if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]
}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=o(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=l(_);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,D=t.tokenize=function(e,n){var i,r,a,s,o,l,u,c=z[e+" "];if(c)return n?0:c.slice(0);for(o=e,l=[],u=w.preFilter;o;){(!i||(r=ut.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(a=[])),i=!1,(r=ct.exec(o))&&(i=r.shift(),a.push({value:i,type:r[0].replace(lt," ")}),o=o.slice(i.length));for(s in w.filter)!(r=ft[s].exec(o))||u[s]&&!(r=u[s](r))||(i=r.shift(),a.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):z(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],a=Y[e+" "];if(!a){for(t||(t=D(e)),n=t.length;n--;)a=y(t[n]),a[B]?i.push(a):r.push(a);a=Y(e,b(r,i)),a.selector=e}return a},F=t.select=function(e,t,n,i){var r,a,s,o,l,u="function"==typeof e&&e,d=!i&&D(e=u.selector||e);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(s=a[0]).type&&k.getById&&9===t.nodeType&&j&&w.relative[a[1].type]){if(t=(w.find.ID(s.matches[0].replace(kt,wt),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=ft.needsContext.test(e)?0:a.length;r--&&(s=a[r],!w.relative[o=s.type]);)if((l=w.find[o])&&(i=l(s.matches[0].replace(kt,wt),bt.test(a[0].type)&&c(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&h(a),!e)return J.apply(n,i),n;break}}return(u||T(e,d))(i,t,!j,n,bt.test(e)&&c(t.parentNode)||t),n},k.sortStable=B.split("").sort(U).join("")===B,k.detectDuplicates=!!M,I(),k.sortDetached=r(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var ct=rt.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?rt.find.matchesSelector(i,e)?[i]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;r>t;t++)if(rt.contains(i[t],this))return!0}));for(t=0;r>t;t++)rt.find(e,i[t],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ct.test(e)?rt(e):e||[],!1).length}});var pt,ft=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=rt.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ft,!0)),dt.test(n[1])&&rt.isPlainObject(t))for(n in t)rt.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=ft.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(e);this.length=1,this[0]=i}return this.context=ft,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};gt.prototype=rt.fn,pt=rt(ft);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),rt.fn.extend({has:function(e){var t,n=rt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(rt.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],s=ct.test(e)||"string"!=typeof e?rt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?rt.unique(a):a)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return rt.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return rt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt.dir(e,"previousSibling",n)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(n,i){var r=rt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[e]||(r=rt.unique(r)),vt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var bt=/\S+/g,_t={};rt.Callbacks=function(e){e="string"==typeof e?_t[e]||a(e):rt.extend({},e);var t,n,i,r,s,o,l=[],u=!e.once&&[],c=function(a){for(n=e.memory&&a,i=!0,s=o||0,o=0,r=l.length,t=!0;l&&r>s;s++)if(l[s].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function a(t){rt.each(t,function(t,n){var i=rt.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),t?r=l.length:n&&(o=i,c(n))}return this},remove:function(){return l&&rt.each(arguments,function(e,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,s>=i&&s--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||i&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(n){rt.each(t,function(t,a){var s=rt.isFunction(e[t])&&e[t];r[a[1]](function(){var e=s&&s.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,i):i}},r={};return i.pipe=i.then,rt.each(t,function(e,a){var s=a[2],o=a[3];i[a[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=Q.call(arguments),s=a.length,o=1!==s||e&&rt.isFunction(e.promise)?s:0,l=1===o?e:rt.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?Q.call(arguments):r,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)a[r]&&rt.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,t)):--o;return o||l.resolveWith(i,a),l.promise()}});var kt;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!ft.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(kt.resolveWith(ft,[rt]),rt.fn.triggerHandler&&(rt(ft).triggerHandler("ready"),rt(ft).off("ready")))}}}),rt.ready.promise=function(t){if(!kt)if(kt=rt.Deferred(),"complete"===ft.readyState)setTimeout(rt.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1);else{ft.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var n=!1;try{n=null==e.frameElement&&ft.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}s(),rt.ready()}}()}return kt.promise(t)};var wt,Ct="undefined";for(wt in rt(nt))break;nt.ownLast="0"!==wt,nt.inlineBlockNeedsLayout=!1,rt(function(){var e,t,n,i;n=ft.getElementsByTagName("body")[0],n&&n.style&&(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ft.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),rt.fn.extend({data:function(e,t){var n,i,r,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(r=rt.data(a),1===a.nodeType&&!rt._data(a,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(a,i,r[i])));rt._data(a,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):a?l(a,e,rt.data(a,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt._data(e,t),n&&(!i||rt.isArray(n)?i=rt._data(e,t,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=rt.queue(e,t),i=n.length,r=n.shift(),a=rt._queueHooks(e,t),s=function(){rt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,s,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt._data(e,n)||rt._data(e,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,n)})})}}),rt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?rt.queue(this[0],e):void 0===t?this:this.each(function(){var n=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=rt.Deferred(),a=this,s=this.length,o=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=rt._data(a[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=["Top","Right","Bottom","Left"],Et=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},St=rt.access=function(e,t,n,i,r,a,s){var o=0,l=e.length,u=null==n;if("object"===rt.type(n)){r=!0;for(o in n)rt.access(e,t,o,n[o],!0,a,s)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(rt(e),n)})),t))for(;l>o;o++)t(e[o],n,s?i:i.call(e[o],o,t(e[o],n)));return r?e:u?t.call(e):l?t(e[0],n):a},Mt=/^(?:checkbox|radio)$/i;!function(){var e=ft.createElement("input"),t=ft.createElement("div"),n=ft.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=ft.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var It=/^(?:input|select|textarea)$/i,At=/^key/,Nt=/^(?:mouse|pointer|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,n,i,r){var a,s,o,l,u,c,d,h,p,f,m,g=rt._data(e);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(s=g.events)||(s=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof rt===Ct||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(bt)||[""],o=t.length;o--;)a=Rt.exec(t[o])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(u=rt.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=rt.event.special[p]||{},d=rt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=s[p])||(h=s[p]=[],h.delegateCount=0,u.setup&&u.setup.call(e,i,f,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),rt.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var a,s,o,l,u,c,d,h,p,f,m,g=rt.hasData(e)&&rt._data(e);if(g&&(c=g.events)){for(t=(t||"").match(bt)||[""],u=t.length;u--;)if(o=Rt.exec(t[u])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(d=rt.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=c[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)s=h[a],!r&&m!==s.origType||n&&n.guid!==s.guid||o&&!o.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(a,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(e,s));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||rt.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)rt.event.remove(e,p+t[u],n,i,!0);rt.isEmptyObject(c)&&(delete g.handle,rt._removeData(e,"events"))}},trigger:function(t,n,i,r){var a,s,o,l,u,c,d,h=[i||ft],p=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=c=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!jt.test(p+rt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[rt.expando]?t:new rt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:rt.makeArray(n,[t]),u=rt.event.special[p]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!rt.isWindow(i)){for(l=u.delegateType||p,jt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),c=o;c===(i.ownerDocument||ft)&&h.push(c.defaultView||c.parentWindow||e)}for(d=0;(o=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||p,a=(rt._data(o,"events")||{})[t.type]&&rt._data(o,"handle"),a&&a.apply(o,n),a=s&&o[s],a&&a.apply&&rt.acceptData(o)&&(t.result=a.apply(o,n),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),n)===!1)&&rt.acceptData(i)&&s&&i[p]&&!rt.isWindow(i)){c=i[s],c&&(i[s]=null),rt.event.triggered=p;try{i[p]()}catch(m){}rt.event.triggered=void 0,c&&(i[s]=c)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,n,i,r,a,s=[],o=Q.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],u=rt.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=rt.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,a=0;(i=r.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,o),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,s=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],a=0;o>a;a++)i=t[a],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return o<t.length&&s.push({elem:this,handlers:t.slice(o)}),s},fix:function(e){if(e[rt.expando])return e;var t,n,i,r=e.type,a=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Nt.test(r)?this.mouseHooks:At.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new rt.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||ft),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ft,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=rt.extend(new rt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,t):rt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=ft.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ct&&(e[i]=null),e.detachEvent(i,n))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return It.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;It.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!It.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,t);r||i.addEventListener(e,n,!0),rt._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,t)-1;r?rt._data(i,t,r):(i.removeEventListener(e,n,!0),rt._removeData(i,t))}}}),rt.fn.extend({on:function(e,t,n,i,r){var a,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(s=i,i=function(e){return rt().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,rt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?rt.event.trigger(e,t,n,!0):void 0}});var Pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Lt=new RegExp("<(?:"+Pt+")[\\s/>]","i"),Bt=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Ht=/<tbody/i,Wt=/<|&#?\w+;/,zt=/<(?:script|style|link)/i,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Vt=/^true\/(.*)/,Kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xt=m(ft),Gt=Xt.appendChild(ft.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,rt.extend({clone:function(e,t,n){var i,r,a,s,o,l=rt.contains(e.ownerDocument,e);if(nt.html5Clone||rt.isXMLDoc(e)||!Lt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Gt.innerHTML=e.outerHTML,Gt.removeChild(a=Gt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(i=g(a),o=g(e),s=0;null!=(r=o[s]);++s)i[s]&&C(r,i[s]);if(t)if(n)for(o=o||g(e),i=i||g(a),s=0;null!=(r=o[s]);s++)w(r,i[s]);else w(e,a);return i=g(a,"script"),i.length>0&&k(i,!l&&g(e,"script")),i=o=r=null,a},buildFragment:function(e,t,n,i){for(var r,a,s,o,l,u,c,d=e.length,h=m(t),p=[],f=0;d>f;f++)if(a=e[f],a||0===a)if("object"===rt.type(a))rt.merge(p,a.nodeType?[a]:a);else if(Wt.test(a)){for(o=o||h.appendChild(t.createElement("div")),l=(qt.exec(a)||["",""])[1].toLowerCase(),c=Qt[l]||Qt._default,o.innerHTML=c[1]+a.replace($t,"<$1></$2>")+c[2],r=c[0];r--;)o=o.lastChild;if(!nt.leadingWhitespace&&Bt.test(a)&&p.push(t.createTextNode(Bt.exec(a)[0])),!nt.tbody)for(a="table"!==l||Ht.test(a)?"<table>"!==c[1]||Ht.test(a)?0:o:o.firstChild,r=a&&a.childNodes.length;r--;)rt.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(rt.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=h.lastChild}else p.push(t.createTextNode(a));for(o&&h.removeChild(o),nt.appendChecked||rt.grep(g(p,"input"),v),f=0;a=p[f++];)if((!i||-1===rt.inArray(a,i))&&(s=rt.contains(a.ownerDocument,a),o=g(h.appendChild(a),"script"),s&&k(o),n))for(r=0;a=o[r++];)Ut.test(a.type||"")&&n.push(a);return o=null,h},cleanData:function(e,t){for(var n,i,r,a,s=0,o=rt.expando,l=rt.cache,u=nt.deleteExpando,c=rt.event.special;null!=(n=e[s]);s++)if((t||rt.acceptData(n))&&(r=n[o],a=r&&l[r])){if(a.events)for(i in a.events)c[i]?rt.event.remove(n,i):rt.removeEvent(n,i,a.handle);l[r]&&(delete l[r],u?delete n[o]:typeof n.removeAttribute!==Ct?n.removeAttribute(o):n[o]=null,K.push(r))}}}),rt.fn.extend({text:function(e){return St(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?rt.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||rt.cleanData(g(n)),n.parentNode&&(t&&rt.contains(n.ownerDocument,n)&&k(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return St(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof e||zt.test(e)||!nt.htmlSerialize&&Lt.test(e)||!nt.leadingWhitespace&&Bt.test(e)||Qt[(qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($t,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(rt.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,i,r,a,s,o,l=0,u=this.length,c=this,d=u-1,h=e[0],p=rt.isFunction(h);if(p||u>1&&"string"==typeof h&&!nt.checkClone&&Yt.test(h))return this.each(function(n){var i=c.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(u&&(o=rt.buildFragment(e,this[0].ownerDocument,!1,this),n=o.firstChild,1===o.childNodes.length&&(o=n),n)){for(a=rt.map(g(o,"script"),b),r=a.length;u>l;l++)i=o,l!==d&&(i=rt.clone(i,!0,!0),r&&rt.merge(a,g(i,"script"))),t.call(this[l],i,l);if(r)for(s=a[a.length-1].ownerDocument,rt.map(a,_),l=0;r>l;l++)i=a[l],Ut.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(s,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Kt,"")));o=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var n,i=0,r=[],a=rt(e),s=a.length-1;s>=i;i++)n=i===s?this:this.clone(!0),rt(a[i])[t](n),G.apply(r,n.get());return this.pushStack(r)}});var Jt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ft.getElementsByTagName("body")[0],n&&n.style?(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ft.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var i,r,a,s,o=e.style;return n=n||en(e),s=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||rt.contains(e.ownerDocument,e)||(s=rt.style(e,t)),rn.test(s)&&nn.test(t)&&(i=o.width,r=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=i,o.minWidth=r,o.maxWidth=a)),void 0===s?s:s+""
}):ft.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,r,a,s,o=e.style;return n=n||en(e),s=n?n[t]:void 0,null==s&&o&&o[t]&&(s=o[t]),rn.test(s)&&!an.test(t)&&(i=o.left,r=e.runtimeStyle,a=r&&r.left,a&&(r.left=e.currentStyle.left),o.left="fontSize"===t?"1em":s,s=o.pixelLeft+"px",o.left=i,a&&(r.left=a)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,n,i,r;n=ft.getElementsByTagName("body")[0],n&&n.style&&(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=s=!1,l=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(ft.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===r[0].offsetHeight,o&&(r[0].style.display="",r[1].style.display="none",o=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,a,s,o,l;n=ft.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){return null==l&&t(),l}}))}(),rt.swap=function(e,t,n,i){var r,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=s[a];return r};var sn=/alpha\([^)]*\)/i,on=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,un=new RegExp("^("+Tt+")(.*)$","i"),cn=new RegExp("^([+-])=("+Tt+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,s,o=rt.camelCase(t),l=e.style;if(t=rt.cssProps[o]||(rt.cssProps[o]=F(l,o)),s=rt.cssHooks[t]||rt.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];if(a=typeof n,"string"===a&&(r=cn.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||rt.cssNumber[o]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{l[t]=n}catch(u){}}},css:function(e,t,n,i){var r,a,s,o=rt.camelCase(t);return t=rt.cssProps[o]||(rt.cssProps[o]=F(e.style,o)),s=rt.cssHooks[t]||rt.cssHooks[o],s&&"get"in s&&(a=s.get(e,!0,n)),void 0===a&&(a=tn(e,t,i)),"normal"===a&&t in hn&&(a=hn[t]),""===n||n?(r=parseFloat(a),n===!0||rt.isNumeric(r)?r||0:a):a}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,n,i){return n?ln.test(rt.css(e,"display"))&&0===e.offsetWidth?rt.swap(e,dn,function(){return I(e,t,i)}):I(e,t,i):void 0},set:function(e,n,i){var r=i&&en(e);return S(e,n,i?M(e,t,i,nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(e,t){return on.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===rt.trim(a.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=sn.test(a)?a.replace(sn,r):a+" "+r)}}),rt.cssHooks.marginRight=T(nt.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ft[i]+t]=a[i]||a[i-2]||a[0];return r}},nn.test(e)||(rt.cssHooks[e+t].set=S)}),rt.fn.extend({css:function(e,t){return St(this,function(e,t,n){var i,r,a={},s=0;if(rt.isArray(t)){for(i=en(e),r=t.length;r>s;s++)a[t[s]]=rt.css(e,t[s],!1,i);return a}return void 0!==n?rt.style(e,t,n):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Et(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=A,A.prototype={constructor:A,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(rt.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=A.prototype.init,rt.fx.step={};var fn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[P],_n={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=vn.exec(t),a=r&&r[3]||(rt.cssNumber[e]?"":"px"),s=(rt.cssNumber[e]||"px"!==a&&+i)&&vn.exec(rt.css(n.elem,e)),o=1,l=20;if(s&&s[3]!==a){a=a||s[3],r=r||[],s=+i||1;do o=o||".5",s/=o,rt.style(n.elem,e,s+a);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=a,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(L,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],_n[n]=_n[n]||[],_n[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),rt.speed=function(e,t,n){var i=e&&"object"==typeof e?rt.extend({},e):{complete:n||!n&&t||rt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!rt.isFunction(t)&&t};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Et).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=rt.isEmptyObject(e),a=rt.speed(t,n,i),s=function(){var t=L(this,rt.extend({},e),a);(r||rt._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=rt.timers,s=rt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&yn.test(r)&&i(s[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));(t||!n)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=rt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=rt.timers,s=i?i.length:0;for(n.finish=!0,rt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var n=rt.fn[t];rt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,r)}}),rt.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,n=0;for(fn=rt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||rt.fx.stop(),fn=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){mn||(mn=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(mn),mn=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=ft.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=ft.createElement("select"),r=n.appendChild(ft.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=r.selected,nt.enctype=!!ft.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,e=ft.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var kn=/\r/g;rt.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,rt(this).val()):e,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(kn,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.trim(rt.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,s=a?null:[],o=a?r+1:i.length,l=0>r?o:a?r:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==r||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(t=rt(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=rt.makeArray(t),s=r.length;s--;)if(i=r[s],rt.inArray(rt.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(o){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wn,Cn,xn=rt.expr.attrHandle,Dn=/^(?:checked|selected)$/i,Tn=nt.getSetAttribute,Fn=nt.input;rt.fn.extend({attr:function(e,t){return St(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Ct?rt.prop(e,t,n):(1===a&&rt.isXMLDoc(e)||(t=t.toLowerCase(),i=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?Cn:wn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=rt.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void rt.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(bt);if(a&&1===e.nodeType)for(;n=a[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Fn&&Tn||!Dn.test(n)?e[i]=!1:e[rt.camelCase("default-"+n)]=e[i]=!1:rt.attr(e,n,""),e.removeAttribute(Tn?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?rt.removeAttr(e,n):Fn&&Tn||!Dn.test(n)?e.setAttribute(!Tn&&rt.propFix[n]||n,n):e[rt.camelCase("default-"+n)]=e[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xn[t]||rt.find.attr;xn[t]=Fn&&Tn||!Dn.test(t)?function(e,t,i){var r,a;return i||(a=xn[t],xn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,xn[t]=a),r}:function(e,t,n){return n?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),Fn&&Tn||(rt.attrHooks.value={set:function(e,t,n){return rt.nodeName(e,"input")?void(e.defaultValue=t):wn&&wn.set(e,t,n)}}),Tn||(wn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},xn.id=xn.name=xn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wn.set},rt.attrHooks.contenteditable={set:function(e,t,n){wn.set(e,""===t?!1:t,n)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var En=/^(?:input|select|textarea|button|object)$/i,Sn=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return St(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!rt.isXMLDoc(e),a&&(t=rt.propFix[t]||t,r=rt.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):En.test(e.nodeName)||Sn.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var Mn=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,n,i,r,a,s,o=0,l=this.length,u="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(bt)||[];l>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=rt.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,a,s,o=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(bt)||[];l>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?rt.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(n){rt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=rt(this),a=e.match(bt)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mn," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var In=rt.now(),An=/\?/,Nn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=rt.trim(t+"");return r&&!rt.trim(r.replace(Nn,function(e,t,r,a){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!a-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),n};var jn,Rn,Pn=/#.*$/,On=/([?&])_=[^&]*/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$n=/^(?:GET|HEAD)$/,qn=/^\/\//,Hn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Wn={},zn={},Yn="*/".concat("*");try{Rn=location.href}catch(Un){Rn=ft.createElement("a"),Rn.href="",Rn=Rn.href}jn=Hn.exec(Rn.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:Bn.test(jn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,rt.ajaxSettings),t):q(rt.ajaxSettings,e)},ajaxPrefilter:B(Wn),ajaxTransport:B(zn),ajax:function(e,t){function n(e,t,n,i){var r,c,v,y,_,w=t;2!==b&&(b=2,o&&clearTimeout(o),u=void 0,s=i||"",k.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=H(d,k,n)),y=W(d,y,k,r),r?(d.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(rt.lastModified[a]=_),_=k.getResponseHeader("etag"),_&&(rt.etag[a]=_)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=y.state,c=y.data,v=y.error,r=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),k.status=e,k.statusText=(t||w)+"",r?f.resolveWith(h,[c,w,k]):f.rejectWith(h,[k,w,v]),k.statusCode(g),g=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[k,d,r?c:v]),m.fireWith(h,[k,w]),l&&(p.trigger("ajaxComplete",[k,d]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,a,s,o,l,u,c,d=rt.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?rt(h):rt.event,f=rt.Deferred(),m=rt.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,_="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ln.exec(s);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||_;return u&&u.abort(t),n(0,t),this}};if(f.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,d.url=((e||d.url||Rn)+"").replace(Pn,"").replace(qn,jn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=rt.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(i=Hn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===jn[1]&&i[2]===jn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(jn[3]||("http:"===jn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=rt.param(d.data,d.traditional)),$(Wn,d,t,k),2===b)return k;l=rt.event&&d.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!$n.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(An.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=On.test(a)?a.replace(On,"$1_="+In++):a+(An.test(a)?"&":"?")+"_="+In++)),d.ifModified&&(rt.lastModified[a]&&k.setRequestHeader("If-Modified-Since",rt.lastModified[a]),rt.etag[a]&&k.setRequestHeader("If-None-Match",rt.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Yn+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)k.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(h,k,d)===!1||2===b))return k.abort();_="abort";for(r in{success:1,error:1,complete:1})k[r](d[r]);if(u=$(zn,d,t,k)){k.readyState=1,l&&p.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(o=setTimeout(function(){k.abort("timeout")},d.timeout));try{b=1,u.send(v,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return k},getJSON:function(e,t,n){return rt.get(e,t,n,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(n){rt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Vn=/%20/g,Kn=/\[\]$/,Qn=/\r?\n/g,Xn=/^(?:submit|button|image|reset|file)$/i,Gn=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var n,i=[],r=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){r(this.name,this.value)});else for(n in e)z(n,e[n],t,r);return i.join("&").replace(Vn,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Gn.test(this.nodeName)&&!Xn.test(e)&&(this.checked||!Mt.test(e))}).map(function(e,t){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(e){return{name:t.name,value:e.replace(Qn,"\r\n")}}):{name:t.name,value:n.replace(Qn,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||U()}:Y;var Jn=0,Zn={},ei=rt.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&rt.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var r,a=e.xhr(),s=++Jn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&a.setRequestHeader(r,n[r]+"");a.send(e.hasContent&&e.data||null),t=function(n,r){var o,l,u;if(t&&(r||4===a.readyState))if(delete Zn[s],t=void 0,a.onreadystatechange=rt.noop,r)4!==a.readyState&&a.abort();else{u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(c){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=u.text?200:404}u&&i(o,l,u,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=Zn[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ft.head||rt("head")[0]||ft.documentElement;return{send:function(i,r){t=ft.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||rt.expando+"_"+In++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,s,o=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(ni,"$1"+r):t.jsonp!==!1&&(t.url+=(An.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||rt.error(r+" was not called"),s[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,ti.push(r)),s&&rt.isFunction(a)&&a(s[0]),s=a=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ft;var i=dt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=rt.buildFragment([e],t,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var ii=rt.fn.load;rt.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,r,a,s=this,o=e.indexOf(" ");return o>=0&&(i=rt.trim(e.slice(o,e.length)),e=e.slice(0,o)),rt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),s.length>0&&rt.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?rt("<div>").append(rt.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var ri=e.document.documentElement;rt.offset={setOffset:function(e,t,n){var i,r,a,s,o,l,u,c=rt.css(e,"position"),d=rt(e),h={};"static"===c&&(e.style.position="relative"),o=d.offset(),a=rt.css(e,"top"),l=rt.css(e,"left"),u=("absolute"===c||"fixed"===c)&&rt.inArray("auto",[a,l])>-1,u?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(a)||0,r=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(h.top=t.top-o.top+s),null!=t.left&&(h.left=t.left-o.left+r),"using"in t?t.using.call(e,h):d.css(h)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],a=r&&r.ownerDocument;if(a)return t=a.documentElement,rt.contains(t,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=V(a),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(n=e.offset()),n.top+=rt.css(e[0],"borderTopWidth",!0),n.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-rt.css(i,"marginTop",!0),left:t.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ri;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||ri})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);rt.fn[e]=function(i){return St(this,function(e,i,r){var a=V(e);return void 0===r?a?t in a?a[t]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(n?rt(a).scrollLeft():r,n?r:rt(a).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=T(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?rt(e).position()[t]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){rt.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return St(this,function(t,n,i){var r;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?rt.css(t,n,s):rt.style(t,n,i,s)},t,a?i:void 0,a,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var ai=e.jQuery,si=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=si),t&&e.jQuery===rt&&(e.jQuery=ai),rt},typeof t===Ct&&(e.jQuery=e.$=rt),rt}),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")
},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(i){var r,a,s,o,l,u;if(n.fire(i,"ajax:before")){if(o=i.data("with-credentials")||null,l=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),a=i.data("ujs:submit-button-formaction")||i.attr("action"),s=e(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(s.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),a=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",a=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),a=n.href(i),s=i.data("params")||null);return u={type:r||"GET",data:s,dataType:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(a)},o&&(u.xhrFields={withCredentials:o}),a&&(u.url=a),n.ajax(u)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var r=n.href(i),a=i.data("method"),s=i.attr("target"),o=n.csrfToken(),l=n.csrfParam(),u=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';l===t||o===t||n.isCrossDomain(r)||(c+='<input name="'+l+'" value="'+o+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),i!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),r=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{r=n.confirm(i)}catch(a){(console.error||console.log).call(console,a.stack||a)}t=n.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,n,i){var r,a,s,o,l=e(),u=n||"input,textarea",c=t.find(u),d={};return c.each(function(){r=e(this),r.is("input[type=radio]")?(o=r.attr("name"),d[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(s=t.find('input[type=radio][name="'+o+'"]'),l=l.add(s)),d[o]=o)):(a=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),a===i&&(l=l.add(r)))}),l.length?l:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(e(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(e(this))}),i.on("click.rails",n.linkClickSelector,function(t){var i=e(this),r=i.data("method"),a=i.data("params"),s=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!a)return!0;var o=n.handleRemote(i);return o===!1?n.enableElement(i):o.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.on("submit.rails",n.formSubmitSelector,function(i){var r,a,s=e(this),o=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===t)if(s.data("ujs:formnovalidate-button")===t){if(r=n.blankInputs(s,n.requiredInputSelector,!1),r&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",t);if(o){if(a=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.on("click.rails",n.formInputClickSelector,function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),a=r?{name:r,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=e("#"+i.attr("form"))),s.data("ujs:submit-button",a),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(t){this===t.target&&n.disableFormElements(e(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(){this.SB||(this.SB={})}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,i){var r,a,s,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,a=r.name,t.href&&a&&"map"===r.nodeName.toLowerCase()?(s=e("img[usemap='#"+a+"']")[0],!!s&&n(s)):!1):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,a){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(a,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<a.length;r++)e.options[a[r][0]]&&a[r][1].apply(e.element,n)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(e){function t(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",r)}function r(){e.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.11.4"}});var s;return e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,a;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),r),a.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,a):r&&this._inlineDatepicker(t,a)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,a,s=this._get(n,"appendText"),o=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[o?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),a=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:r,title:r}):r)),t[o?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,a=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},a.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,s){var o,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),a(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),s===r&&(s=null))},_enableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,s,o,l,u=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),a(u.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,o)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,a=e.datepicker._getInst(t.target),s=!0,o=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),r[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,r[0]),n=e.datepicker._get(a,"onSelect"),n?(i=e.datepicker._formatDate(a),n.apply(a.input?a.input[0]:null,[i,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=e("input",n.parentNode)[0]),!e.datepicker._isDisabledDatepicker(n)&&e.datepicker._lastInput!==n){var i,r,s,o,l,u,c;i=e.datepicker._getInst(n),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(i,"beforeShow"),s=r?r.apply(n,[n,i]):{},s!==!1&&(a(i.settings,s),i.lastVal=null,e.datepicker._lastInput=n,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(n.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(n),e.datepicker._pos[1]+=n.offsetHeight),o=!1,e(n).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(u=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",t(e(n))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),a=i[1],o=17,l=t.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&r.apply(l.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&t.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",o*a+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-s:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+o?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+a>u&&u>a?Math.abs(a+o):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,a,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,a=this._get(s,"onClose"),a&&a.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,n+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),a=this._getInst(r[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(t,n,i,r){var a,s=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(a=this._getInst(s[0]),a.selectedDay=a.currentDay=e("a",r).html(),a.selectedMonth=a.currentMonth=n,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),a=this._getInst(r[0]);n=null!=n?n:this._formatDate(a),a.input&&a.input.val(n),this._updateAlternate(a),i=this._get(a,"onSelect"),i?i.apply(a.input?a.input[0]:null,[n,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,a=this._get(t,"altField");a&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(a).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,a,s,o,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},k=function(e){var t=_(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,a=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(l).match(a);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(t,i,r){var a=-1,s=e.map(_(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(a=t[0],l+=i.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||_("'")?C():b=!1;else switch(t.charAt(r)){case"d":v=k("d");break;case"D":w("D",d,h);break;case"o":y=k("o");break;case"m":g=k("m");break;case"M":g=w("M",p,f);break;case"y":m=k("y");break;case"@":o=new Date(k("@")),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((k("!")-this._ticksTo1970)/1e4),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"'":_("'")?C():b=!0;break;default:C()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(o=this._daylightSavingAdjust(new Date(m,g-1,v)),o.getFullYear()!==m||o.getMonth()+1!==g||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";
var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},u=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},c=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=u("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),r,a);break;case"o":d+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),s,o);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,s=this._getFormatConfig(e);try{a=this.parseDate(n,i,s)||r}catch(o){i=t?"":i}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=i?a.getDate():0,e.currentMonth=i?a.getMonth():0,e.currentYear=i?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=r.getFullYear(),s=r.getMonth(),o=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":o+=parseInt(u[1],10);break;case"w":case"W":o+=7*parseInt(u[1],10);break;case"m":case"M":s+=parseInt(u[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(u[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s))}u=l.exec(n)}return new Date(a,s,o)},s=null==n||""===n?i:"string"==typeof n?a(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,a=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&a===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,a,s,o,l,u,c,d,h,p,f,m,g,v,y,b,_,k,w,C,x,D,T,F,E,S,M,I,A,N,j,R,P,O,L,B,$=new Date,q=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth(),$.getDate())),H=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),Y=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),Q=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=Y?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-K,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=Y?this.formatDate(r,this._daylightSavingAdjust(new Date(et,Z+K,1)),this._getFormatConfig(e)):r,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?X:q,s=Y?this.formatDate(s,o,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;w<U[0];w++){for(C="",this.maxRows=4,x=0;x<U[1];x++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),T=" ui-corner-all",F="",Q){if(F+="<div class='ui-datepicker-group",U[1]>1)switch(x){case 0:F+=" ui-datepicker-group-first",T=" ui-corner-"+(H?"right":"left");break;case U[1]-1:F+=" ui-datepicker-group-last",T=" ui-corner-"+(H?"left":"right");break;default:F+=" ui-datepicker-group-middle",T=""}F+="'>"}for(F+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?H?a:i:"")+(/all|right/.test(T)&&0===w?H?i:a:"")+this._generateMonthYearHeader(e,Z,et,G,J,w>0||x>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",k=0;7>k;k++)S=(k+c)%7,E+="<th scope='col'"+((k+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[S]+"'>"+p[S]+"</span></th>";for(F+=E+"</tr></thead><tbody>",M=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),I=(this._getFirstDayOfMonth(et,Z)-c+7)%7,A=Math.ceil((I+M)/7),N=Q&&this.maxRows>A?this.maxRows:A,this.maxRows=N,j=this._daylightSavingAdjust(new Date(et,Z,1-I)),R=0;N>R;R++){for(F+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(j)+"</td>":"",k=0;7>k;k++)O=g?g.apply(e.input?e.input[0]:null,[j]):[!0,""],L=j.getMonth()!==Z,B=L&&!y||!O[0]||G&&G>j||J&&j>J,P+="<td class='"+((k+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(j.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===j.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+O[1]+(j.getTime()===X.getTime()?" "+this._currentClass:"")+(j.getTime()===q.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===q.getTime()?" ui-state-highlight":"")+(j.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);F+=P+"</tr>"}Z++,Z>11&&(Z=0,et++),F+="</tbody></table>"+(Q?"</div>"+(U[0]>0&&x===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=F}_+=C}return _+=u,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,r,a,s,o){var l,u,c,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(_+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+o[c]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,a)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=null,o=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),o=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(o+=i)),(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!s||t.getFullYear()>=s)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker}),$(function(){$(".js-datepicker").each(function(){$(this).datepicker({dateFormat:"dd/mm/yy",minDate:new Date($(this).data("mindate")),maxDate:new Date($(this).data("maxdate"))})})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var i,r,a;for(a=0;null!=(r=n[a]);a++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(s){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,a,s,o,l={},u=t.split(".")[0];return t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},a=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}()):void(l[t]=i)}),s.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,r,a=n.call(arguments,1),s=0,o=a.length;o>s;s++)for(i in a[s])r=a[s][i],a[s].hasOwnProperty(i)&&void 0!==r&&(t[i]=e.isPlainObject(r)?e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(a){var s="string"==typeof a,o=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=e.data(this,r);return"instance"===a?(l=i,!1):i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,o),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):(o.length&&(a=e.widget.extend.apply(null,[a].concat(o))),this.each(function(){var t=e.data(this,r);t?(t.option(a||{}),t._init&&t._init()):e.data(this,r,new i(a,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,a,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function o(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):void 0}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+a.eventNamespace,c=l[2];c?r.delegate(c,u,o):n.bind(u,o)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,a,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){"string"==typeof r&&(r={effect:r});var s,o=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[o]?i[t](r):o!==t&&i[o]?i[o](r.duration,r.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}}),e.widget}),function(e){"use strict";var t=function(){function t(){r||(i=n(),e(window).on("resize orientationchange",function(){var t=n();i!==t&&(e(this).triggerHandler("breakpointchange",{oldLabel:i,newLabel:t}),i=t)}),r=!0)}function n(){var e=window.getComputedStyle&&window.getComputedStyle(document.body,"::before");return e=e&&("none"!==e.content&&e.content||!1),e&&e.replace(/('|"|\s+)/g,"")}var i,r=!1;return{label:function(){return i},attach:function(n){return t(),e(window).on("breakpointchange",function(t,i){e(n.element).triggerHandler("breakpointchange"+n.eventNamespace,i)}),this}}}();e.widget("bijou.base",{options:{defaultBreakpoint:"desktop"},_getCreateOptions:function(){var t,n={},i=this.element.data(),r=["string","number","boolean"];for(t in i)i.hasOwnProperty(t)&&e.inArray(typeof i[t],r)>-1&&(n[t]=i[t]);return n},disable:function(){this._super(),this.widget().removeAttr("aria-disabled").removeClass("ui-state-disabled")},enable:function(){this._super(),this.widget().removeAttr("aria-disabled")},breakpointEnabled:function(){var e=this;this.options.breakpoint=t.attach(this).label()||this.options.defaultBreakpoint,this.breakpointTriggers={enter:{},leave:{}},this._on(!0,{breakpointchange:function(e,t){this.options.breakpoint=t.newLabel,this._breakpointCallbacks(t.newLabel,"enter").each(function(e,t){t()}),this._breakpointCallbacks(t.oldLabel,"leave").each(function(e,t){t()})}}),this.options.disableOnBreakpoint&&(this._onBreakpoint(this.options.disableOnBreakpoint,function(){e.disable()},function(){e.enable()}),this.options.breakpoint===this.options.disableOnBreakpoint&&this.disable()),this.options.enableOnBreakpoint&&(this._onBreakpoint(this.options.enableOnBreakpoint,function(){e.enable()},function(){e.disable()}),this.options.breakpoint!==this.options.enableOnBreakpoint&&this.disable())},_breakpointCallbacks:function(t,n){return this.breakpointTriggers[n][t]||(this.breakpointTriggers[n][t]=e([]))},_onBreakpoint:function(e,t,n){t&&this._breakpointCallbacks(e,"enter").push(t),n&&this._breakpointCallbacks(e,"leave").push(n===!0?t:n)},_onEnterBreakpoint:function(e,t){this._onBreakpoint(e,t)},_onLeaveBreakpoint:function(e,t){this._onBreakpoint(e,null,t)}})}(window.jQuery),function(e){"use strict";e.widget("backoffice.dependent_question_toggle",e.bijou.base,{_create:function(){this.questionTarget=this.options.form.find(this.options.toggleQuestionTarget),this._on({change:this.toggle})},toggle:function(){var t=this.options.valueThatTriggersTargetDisplay.split(",");this.options.form.smart_form("toggleQuestion",this.questionTarget,e.inArray(this.element.val(),t)>-1)}})}(window.jQuery),$(function(){$(".js-dismiss-modal").on("click","button",function(){$(this).closest(".js-dismiss-modal").remove()})}),function(){$(function(){return $("#js-filter-overrides").each(function(){var e,t,n,i,r,a;return i=$("table",this),r=$(".sticky-header",this),e=r.offset().top,n=i.find(".submit-override"),$(window).on("scroll",function(){return r.toggleClass("sticky",$(window).scrollTop()>e)}),t=function(){return i.find("th, td").each(function(){return $(this).width($(this).width())})},t(),i.on("click",".display-reasons",function(e){return e.preventDefault(),i.find(".filter-reasons").slideToggle("fast",t)}),r.find(":checkbox").on("change",function(){var e;return e=$(this).closest("th").data("insurer"),i.find("td."+e).toggleClass("selected",this.checked).find(":input").prop("disabled",!this.checked)}),i.on("change",".load_form :input, th :checkbox",function(){return n.prop("disabled",!0)}),a=function(e,t){return""===e.val()?t.removeAttr("required"):t.attr("required","required")},$(".js-loading-value",this).on("input",function(){var e;return e=$(this).closest(".load_form").find(".js-loading-type"),a(e,$(this)),a($(this),e)}),$(".js-loading-type",this).on("change",function(){var e;return e=$(this).closest(".load_form").find(".js-loading-value"),a($(this),e),a(e,$(this))})})})}.call(this),function(e){"use strict";function t(){function e(n){var r=this;return r instanceof e?(n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):i(r,n),void(r.constructor=e)):void 0===n?t():new e(n)}return e.prototype=p,e.DP=o,e.RM=l,e.E_NEG=d,e.E_POS=h,e}function n(e,t,n){var i=e.constructor,a=t-(e=new i(e)).e,s=e.c;for(s.length>++t&&r(e,a,i.RM),s[0]?n?a=t:(s=e.c,a=e.e+a+1):++a;s.length<a;s.push(0));return a=e.e,1===n||n&&(a>=t||a<=i.E_NEG)?(e.s<0&&s[0]?"-":"")+(s.length>1?s[0]+"."+s.join("").slice(1):s[0])+(0>a?"e":"e+")+a:e.toString()}function i(e,t){var n,i,r;for(0===t&&0>1/t?t="-0":f.test(t+="")||a(0/0),e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;"0"==t.charAt(i);i++);if(i==(r=t.length))e.c=[e.e=0];else{for(;"0"==t.charAt(--r););for(e.e=n-i-1,e.c=[],n=0;r>=i;e.c[n++]=+t.charAt(i++));}return e}function r(e,t,n,i){var r,s=e.c,o=e.e+t+1;if(1===n?i=s[o]>=5:2===n?i=s[o]>5||5==s[o]&&(i||0>o||s[o+1]!==r||1&s[o-1]):3===n?i=i||s[o]!==r||0>o:(i=!1,0!==n&&a("!Big.RM!")),1>o||!s[0])i?(e.e=-t,e.c=[1]):e.c=[e.e=0];else{if(s.length=o--,i)for(;++s[o]>9;)s[o]=0,o--||(++e.e,s.unshift(1));for(o=s.length;!s[--o];s.pop());}return e}function a(e){var t=new Error(e);throw t.name="BigError",t}var s,o=20,l=1,u=1e6,c=1e6,d=-7,h=21,p={},f=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;p.abs=function(){var e=new this.constructor(this);return e.s=1,e},p.cmp=function(e){var t,n=this,i=n.c,r=(e=new n.constructor(e)).c,a=n.s,s=e.s,o=n.e,l=e.e;if(!i[0]||!r[0])return i[0]?a:r[0]?-s:0;if(a!=s)return a;if(t=0>a,o!=l)return o>l^t?1:-1;for(a=-1,s=(o=i.length)<(l=r.length)?o:l;++a<s;)if(i[a]!=r[a])return i[a]>r[a]^t?1:-1;return o==l?0:o>l^t?1:-1},p.div=function(e){var t=this,n=t.constructor,i=t.c,s=(e=new n(e)).c,o=t.s==e.s?1:-1,l=n.DP;if((l!==~~l||0>l||l>u)&&a("!Big.DP!"),!i[0]||!s[0])return i[0]==s[0]&&a(0/0),s[0]||a(o/0),new n(0*o);var c,d,h,p,f,m,g=s.slice(),v=c=s.length,y=i.length,b=i.slice(0,c),_=b.length,k=e,w=k.c=[],C=0,x=l+(k.e=t.e-e.e)+1;for(k.s=o,o=0>x?0:x,g.unshift(0);_++<c;b.push(0));do{for(h=0;10>h;h++){if(c!=(_=b.length))p=c>_?1:-1;else for(f=-1,p=0;++f<c;)if(s[f]!=b[f]){p=s[f]>b[f]?1:-1;break}if(!(0>p))break;for(d=_==c?s:g;_;){if(b[--_]<d[_]){for(f=_;f&&!b[--f];b[f]=9);--b[f],b[_]+=10}b[_]-=d[_]}for(;!b[0];b.shift());}w[C++]=p?h:++h,b[0]&&p?b[_]=i[v]||0:b=[i[v]]}while((v++<y||b[0]!==m)&&o--);return w[0]||1==C||(w.shift(),k.e--),C>x&&r(k,l,n.RM,b[0]!==m),k},p.eq=function(e){return!this.cmp(e)},p.gt=function(e){return this.cmp(e)>0},p.gte=function(e){return this.cmp(e)>-1},p.lt=function(e){return this.cmp(e)<0},p.lte=function(e){return this.cmp(e)<1},p.sub=p.minus=function(e){var t,n,i,r,a=this,s=a.constructor,o=a.s,l=(e=new s(e)).s;if(o!=l)return e.s=-l,a.plus(e);var u=a.c.slice(),c=a.e,d=e.c,h=e.e;if(!u[0]||!d[0])return d[0]?(e.s=-l,e):new s(u[0]?a:0);if(o=c-h){for((r=0>o)?(o=-o,i=u):(h=c,i=d),i.reverse(),l=o;l--;i.push(0));i.reverse()}else for(n=((r=u.length<d.length)?u:d).length,o=l=0;n>l;l++)if(u[l]!=d[l]){r=u[l]<d[l];break}if(r&&(i=u,u=d,d=i,e.s=-e.s),(l=(n=d.length)-(t=u.length))>0)for(;l--;u[t++]=0);for(l=t;n>o;){if(u[--n]<d[n]){for(t=n;t&&!u[--t];u[t]=9);--u[t],u[n]+=10}u[n]-=d[n]}for(;0===u[--l];u.pop());for(;0===u[0];)u.shift(),--h;return u[0]||(e.s=1,u=[h=0]),e.c=u,e.e=h,e},p.mod=function(e){var t,n=this,i=n.constructor,r=n.s,s=(e=new i(e)).s;return e.c[0]||a(0/0),n.s=e.s=1,t=1==e.cmp(n),n.s=r,e.s=s,t?new i(n):(r=i.DP,s=i.RM,i.DP=i.RM=0,n=n.div(e),i.DP=r,i.RM=s,this.minus(n.times(e)))},p.add=p.plus=function(e){var t,n=this,i=n.constructor,r=n.s,a=(e=new i(e)).s;if(r!=a)return e.s=-a,n.minus(e);var s=n.e,o=n.c,l=e.e,u=e.c;if(!o[0]||!u[0])return u[0]?e:new i(o[0]?n:0*r);if(o=o.slice(),r=s-l){for(r>0?(l=s,t=u):(r=-r,t=o),t.reverse();r--;t.push(0));t.reverse()}for(o.length-u.length<0&&(t=u,u=o,o=t),r=u.length,a=0;r;)a=(o[--r]=o[r]+u[r]+a)/10|0,o[r]%=10;for(a&&(o.unshift(a),++l),r=o.length;0===o[--r];o.pop());return e.c=o,e.e=l,e},p.pow=function(e){var t=this,n=new t.constructor(1),i=n,r=0>e;for((e!==~~e||-c>e||e>c)&&a("!pow!"),e=r?-e:e;1&e&&(i=i.times(t)),e>>=1,e;)t=t.times(t);return r?n.div(i):i},p.round=function(e,t){var n=this,i=n.constructor;return null==e?e=0:(e!==~~e||0>e||e>u)&&a("!round!"),r(n=new i(n),e,null==t?i.RM:t),n},p.sqrt=function(){var e,t,n,i=this,s=i.constructor,o=i.c,l=i.s,u=i.e,c=new s("0.5");if(!o[0])return new s(i);0>l&&a(0/0),l=Math.sqrt(i.toString()),0===l||l===1/0?(e=o.join(""),e.length+u&1||(e+="0"),t=new s(Math.sqrt(e).toString()),t.e=((u+1)/2|0)-(0>u||1&u)):t=new s(l.toString()),l=t.e+(s.DP+=4);do n=t,t=c.times(n.plus(i.div(n)));while(n.c.slice(0,l).join("")!==t.c.slice(0,l).join(""));return r(t,s.DP-=4,s.RM),t},p.mul=p.times=function(e){var t,n=this,i=n.constructor,r=n.c,a=(e=new i(e)).c,s=r.length,o=a.length,l=n.e,u=e.e;if(e.s=n.s==e.s?1:-1,!r[0]||!a[0])return new i(0*e.s);for(e.e=l+u,o>s&&(t=r,r=a,a=t,u=s,s=o,o=u),t=new Array(u=s+o);u--;t[u]=0);for(l=o;l--;){for(o=0,u=s+l;u>l;)o=t[u]+a[l]*r[u-l-1]+o,t[u--]=o%10,o=o/10|0;t[u]=(t[u]+o)%10}for(o&&++e.e,t[0]||t.shift(),l=t.length;!t[--l];t.pop());return e.c=t,e},p.toString=p.valueOf=p.toJSON=function(){var e=this,t=e.constructor,n=e.e,i=e.c.join(""),r=i.length;if(n<=t.E_NEG||n>=t.E_POS)i=i.charAt(0)+(r>1?"."+i.slice(1):"")+(0>n?"e":"e+")+n;else if(0>n){for(;++n;i="0"+i);i="0."+i}else if(n>0)if(++n>r)for(n-=r;n--;i+="0");else r>n&&(i=i.slice(0,n)+"."+i.slice(n));else r>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&e.c[0]?"-"+i:i},p.toExponential=function(e){return null==e?e=this.c.length-1:(e!==~~e||0>e||e>u)&&a("!toExp!"),n(this,e,1)},p.toFixed=function(e){var t,i=this,r=i.constructor,s=r.E_NEG,o=r.E_POS;return r.E_NEG=-(r.E_POS=1/0),null==e?t=i.toString():e===~~e&&e>=0&&u>=e&&(t=n(i,i.e+e),i.s<0&&i.c[0]&&t.indexOf("-")<0&&(t="-"+t)),r.E_NEG=s,r.E_POS=o,t||a("!toFix!"),t},p.toPrecision=function(e){return null==e?this.toString():((e!==~~e||1>e||e>u)&&a("!toPre!"),n(this,e-1,2))},s=t(),"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:e.Big=s}(this),jQuery.fn.highlight=function(){$(this).each(function(){var e=$(this);$("<div/>").width(e.outerWidth()).height(e.outerHeight()).css({position:"absolute",left:e.offset().left,top:e.offset().top,"border-top-left-radius":parseInt(e.css("borderTopLeftRadius"),10),"border-top-right-radius":parseInt(e.css("borderTopRightRadius"),10),"border-bottom-left-radius":parseInt(e.css("borderBottomLeftRadius"),10),"border-bottom-right-radius":parseInt(e.css("borderBottomRightRadius"),10),"background-color":"#ffff99",opacity:".7","z-index":"9999999"}).appendTo("body").fadeOut(1e3).queue(function(){$(this).remove()})})},function(){"use strict";this.CreditCardCancellationForm=function(e,t,n){this.form=e,this.transactionTypesForReturnedPremium=t,this.transactionTypesForPaymentMade=n,this.insurerCreditInput=e.find(".js-insurer-credit"),this.baseReturnedPremiumInput=e.find(".js-base-returned-premium"),this.showCancelledAncillariesInput=e.find(".js-show-cancelled-ancillaries-credit"),this.cancelledAncillariesWrapper=e.find(".js-cancelled-ancillaries-credit-wrapper"),this.cancelledAncillariesInput=e.find(".js-cancelled-ancillaries-credit"),this.adminChargeInputWrapper=e.find(".js-admin-charge-wrapper .radio-buttons-inputs"),this.adminChargeInput=e.find(".js-admin-charge-wrapper input:radio"),this.returnedPremiumOrTransferredCreditInput=e.find(".js-returned-premium-or-transferred-credit"),this.returnedPremiumOrTransferredCreditLabel=this.returnedPremiumOrTransferredCreditInput.siblings("label"),this.paymentMadeInput=e.find(".js-payment-made"),this.cancellationChargeInput=e.find(".js-cancellation-charge"),this.writeOffInput=e.find(".js-write-off"),this.adminChargeSpan=e.find(".js-admin-charge-span"),this.cancellationTypeInput=e.find(".js-cancellation-type input:radio"),this.cancellationReasonSelect=e.find(".js-cancellation-reason"),this.manualOverrideInput=e.find(".js-manual-override"),this.transactionTypeInput=e.find(".js-transaction-type"),this.transactionTypeWrapper=e.find(".js-transaction-type-wrapper"),this.transactionReferenceWrapper=e.find(".js-transaction-reference-wrapper"),this.formSubmitButton=e.find(".js-submit-cancellation"),this.creditWillBeTransferredWrapper=e.find(".js-credit-will-be-transferred-wrapper"),this.creditWillBeTransferredInput=e.find(".js-credit-will-be-transferred"),this.insurerCredit=this.parseBigInt(this.insurerCreditInput.text()),this.baseReturnedPremium=this.parseBigInt(this.baseReturnedPremiumInput.text()),this.storeOriginalReturnedPremium(this.cancelledAncillariesInput.val()),this.attachEventHandlers(),this.setFormValues(),this.formatNumbers(),this.addManualOverrideButton(),this.onCancellationTypeInputClick(),this.setManualOverrideInitialState(),this.toggleReadonlyWhenManualOverrideIsOn(),this.drawTransactionTypesAndReference()
},this.CreditCardCancellationForm.prototype.RETURNED_PREMIUM_LABEL="Return premium",this.CreditCardCancellationForm.prototype.TRANSFERRED_CREDIT_LABEL="Transferred credit",this.CreditCardCancellationForm.prototype.storeOriginalReturnedPremium=function(e){this.originalReturnedPremium=this.parseBigInt(this.returnedPremiumOrTransferredCreditInput.val()),e&&0!=e&&(this.originalReturnedPremium=this.originalReturnedPremium.minus(e))},this.CreditCardCancellationForm.prototype.updateAll=function(){this.setFormValues(),this.manualOverride||(this.returnedPremiumOrTransferredCredit=this.originalReturnedPremium.plus(this.cancelledAncillaries),this.returnedPremiumOrTransferredCreditInput.val(this.returnedPremiumOrTransferredCredit.toFixed(2))),this.toggleReadonlyWhenManualOverrideIsOn(),this.balance=this.insurerCredit.plus(this.cancelledAncillaries).minus(this.adminCharge).minus(this.returnedPremiumOrTransferredCredit).plus(this.paymentMade),this.balance>=0?(this.cancellationCharge=this.balance,this.cancellationChargeInput.val(this.cancellationCharge.toFixed(2)),this.writeOffInput.val("0.00")):(this.cancellationChargeInput.val("0.00"),this.writeOff=Math.abs(this.balance),this.writeOffInput.val(this.writeOff.toFixed(2))),this.drawTransactionTypesAndReference(),this.toggleReturnedPremiumOrTransferredCreditLabel(),this.prepareOnSubmitConfirmationMessage()},this.CreditCardCancellationForm.prototype.toggleReadonlyWhenManualOverrideIsOn=function(){this.manualOverride&&(0==this.returnedPremiumOrTransferredCredit?this.paymentMadeInput.removeClass("readonly").removeAttr("readonly"):this.paymentMadeInput.addClass("readonly").attr("readonly",!0),0==this.paymentMade?this.returnedPremiumOrTransferredCreditInput.removeClass("readonly").removeAttr("readonly"):this.returnedPremiumOrTransferredCreditInput.addClass("readonly").attr("readonly",!0))},this.CreditCardCancellationForm.prototype.prepareOnSubmitConfirmationMessage=function(){var e="";this.writeOff>0&&(e="WARNING: You are about to write off the amount. This operation should be authorised by a manager."),""===e?this.formSubmitButton.removeData("confirm"):this.formSubmitButton.data("confirm",e)},this.CreditCardCancellationForm.prototype.cancellationChargeIsWaived=function(){return this.insurerCredit.minus(this.baseReturnedPremium)>0&&0==this.cancellationCharge&&"insurer_invoked_cancellation"!=this.cancellationReasonSelect.val()},this.CreditCardCancellationForm.prototype.setFormValues=function(){this.cancelledAncillaries=this.parseBigInt(this.cancelledAncillariesInput.val()),this.adminCharge=this.parseBigInt(this.adminChargeInput.filter(":checked").val()),this.returnedPremiumOrTransferredCredit=this.parseBigInt(this.returnedPremiumOrTransferredCreditInput.val()),this.paymentMade=this.parseBigInt(this.paymentMadeInput.val()),this.cancellationCharge=this.parseBigInt(this.cancellationChargeInput.val()),this.writeOff=this.parseBigInt(this.writeOffInput.val()),this.transactionType=this.transactionTypeInput.val(),this.manualOverride="true"==this.manualOverrideInput.val()},this.CreditCardCancellationForm.prototype.setManualOverrideInitialState=function(){this.manualOverride?(this.disableCancellationTypeInput(),this.setFieldsEditable()):(this.updateAndShowAdminChargeSpan(),this.adminChargeInputWrapper.hide())},this.CreditCardCancellationForm.prototype.updateAndShowAdminChargeSpan=function(){this.adminChargeSpan.text(this.adminChargeInput.filter(":checked").siblings("label").text()).show()},this.CreditCardCancellationForm.prototype.addManualOverrideButton=function(){var e=this;this.manualOverride||(this.manualOverrideButton=$("<button>",{text:"Manual override",type:"button","class":"js-manual-override-button",on:{click:function(){e.onManualOverrideClick()}}}).insertAfter(this.writeOffInput.parent()))},this.CreditCardCancellationForm.prototype.onCancellationTypeInputClick=function(){if(!this.manualOverride){this.cancellationType=this.cancellationTypeInput.filter(":checked").val();var e={normal_cancellation:this.performNormalCancellationTypeActions,insurer_invoked_cancellation:this.performInsurerInvokedCancellationTypeActions,waived_cancellation_charge:this.performWaivedCancellationTypeActions,cancel_and_replace:this.performCancelAndReplaceCancellationTypeActions};this.cancellationType in e&&e[this.cancellationType].call(this),this.creditWillBeTransferredWrapper.toggle("cancel_and_replace"==this.cancellationType),this.updateAll(),this.formatNumbers()}},this.CreditCardCancellationForm.prototype.performNormalCancellationTypeActions=function(){this.returnedPremiumOrTransferredCreditInput.val(this.baseReturnedPremiumInput.text()),this.paymentMadeInput.val("0.00"),this.cancellationReasonSelect.val(""),this.selectNoChargeFromAdminCharge(),this.removeEventsOnReasonSelect(),this.storeOriginalReturnedPremium()},this.CreditCardCancellationForm.prototype.performInsurerInvokedCancellationTypeActions=function(){this.returnedPremiumOrTransferredCreditInput.val(this.insurerCreditInput.text()),this.paymentMadeInput.val("0.00"),this.cancellationReasonSelect.val("insurer_invoked_cancellation"),this.attachEventsOnReasonSelect("insurer_invoked_cancellation"),this.selectNoChargeFromAdminCharge(),this.storeOriginalReturnedPremium()},this.CreditCardCancellationForm.prototype.performWaivedCancellationTypeActions=function(){this.select15PoundsFromAdminCharge(),this.calculateReturnPremiumForNonManualOverride(),this.cancellationReasonSelect.val(""),this.removeEventsOnReasonSelect(),this.storeOriginalReturnedPremium()},this.CreditCardCancellationForm.prototype.performCancelAndReplaceCancellationTypeActions=function(){this.select15PoundsFromAdminCharge(),this.cancellationReasonSelect.val("cancel_and_replace"),this.attachEventsOnReasonSelect("cancel_and_replace"),this.creditWillBeTransferredInput.prop("checked",!0),this.calculateReturnPremiumForNonManualOverride(),this.storeOriginalReturnedPremium()},this.CreditCardCancellationForm.prototype.calculateReturnPremiumForNonManualOverride=function(){var e=this.insurerCredit.minus(this.adminCharge);e>0?(this.returnedPremiumOrTransferredCreditInput.val(e),this.paymentMadeInput.val("0.00")):(this.paymentMadeInput.val(-e),this.returnedPremiumOrTransferredCreditInput.val("0.00"))},this.CreditCardCancellationForm.prototype.selectNoChargeFromAdminCharge=function(){this.adminChargeInput.first().prop("checked",!0),this.adminCharge=this.parseBigInt(this.adminChargeInput.filter(":checked").val()),this.updateAndShowAdminChargeSpan()},this.CreditCardCancellationForm.prototype.select15PoundsFromAdminCharge=function(){this.adminChargeInput.last().prop("checked",!0),this.adminCharge=this.parseBigInt(this.adminChargeInput.filter(":checked").val()),this.updateAndShowAdminChargeSpan()},this.CreditCardCancellationForm.prototype.onManualOverrideClick=function(){this.manualOverrideInput.val("true"),this.manualOverride=!0,this.setFieldsEditable(),this.disableCancellationTypeInput(),this.removeEventsOnReasonSelect(),this.manualOverrideButton.hide(),this.toggleReadonlyWhenManualOverrideIsOn()},this.CreditCardCancellationForm.prototype.disableCancellationTypeInput=function(){var e=this.cancellationTypeInput.filter(":checked").val(),t=this.cancellationTypeInput.attr("name");this.cancellationTypeInput.prop("disabled",!0),this.cancellationType=e;var n=$("<input>",{type:"hidden",value:e,name:t});this.form.append(n)},this.CreditCardCancellationForm.prototype.setFieldsEditable=function(){this.adminChargeInputWrapper.show(),this.adminChargeSpan.hide(),this.returnedPremiumOrTransferredCreditInput.removeClass("readonly").removeAttr("readonly"),this.paymentMadeInput.removeClass("readonly").removeAttr("readonly")},this.CreditCardCancellationForm.prototype.drawTransactionTypesAndReference=function(){var e=this,t={},n=this.transactionTypeInput.val()||e.transactionTypeInput.data("selected");this.returnedPremiumOrTransferredCredit>0&&!this.isTransferredCredit()?t=this.transactionTypesForReturnedPremium:this.paymentMade>0&&(t=this.transactionTypesForPaymentMade),this.transactionTypeInput.empty(),this.transactionTypeWrapper.hide(),$.isEmptyObject(t)||(this.transactionTypeWrapper.show(),this.transactionTypeInput.append($.map(t,function(t,i){e.transactionTypeInput.append($("<option />",{value:i,text:t,selected:i==n}))}))),this.transactionType=this.transactionTypeInput.val(),"credit_debit_card"==this.transactionType?this.transactionReferenceWrapper.show():this.transactionReferenceWrapper.hide()},this.CreditCardCancellationForm.prototype.toggleCancelledAncillariesWrapper=function(){this.cancelledAncillariesWrapper.toggle(1==this.showCancelledAncillariesInput.prop("checked"))},this.CreditCardCancellationForm.prototype.toggleReturnedPremiumOrTransferredCreditLabel=function(){var e=this.returnedPremiumOrTransferredCreditLabel.text(),t=this.isTransferredCredit()?this.TRANSFERRED_CREDIT_LABEL:this.RETURNED_PREMIUM_LABEL;this.returnedPremiumOrTransferredCreditLabel.text(t),e!=t&&this.returnedPremiumOrTransferredCreditLabel.highlight()},this.CreditCardCancellationForm.prototype.hideTransactionTypeWrapper=function(){this.transactionTypeInput.val(""),this.transactionTypeWrapper.hide()},this.CreditCardCancellationForm.prototype.isTransferredCredit=function(){return"cancel_and_replace"==this.cancellationType&&this.creditWillBeTransferredInput.prop("checked")},this.CreditCardCancellationForm.prototype.attachEventHandlers=function(){var e=this;this.form.on("blur",".js-format-as-number",function(){var t=$(this);if(!t.hasClass("js-allow-empty")||!isNaN(parseFloat(t.val()))){var n=parseFloat(t.val())||0;t.val(n.toFixed(2)),e.updateAll()}}),this.form.on("input",function(){e.updateAll()}),this.form.on("click",".js-admin-charge-wrapper input:radio",function(){e.updateAll()}),this.form.on("click",".js-cancellation-type input:radio",function(){e.onCancellationTypeInputClick()}),this.form.on("click",".js-credit-will-be-transferred",function(){e.updateAll()}),this.showCancelledAncillariesInput.on("change",function(){e.toggleCancelledAncillariesWrapper()}),this.toggleCancelledAncillariesWrapper()},this.CreditCardCancellationForm.prototype.formatNumbers=function(){this.form.find(".js-format-as-number").each(function(){var e=$(this);if(!e.hasClass("js-allow-empty")||!isNaN(parseFloat(e.val()))){var t=parseFloat(e.val())||0;e.val(t.toFixed(2))}})},this.CreditCardCancellationForm.prototype.attachEventsOnReasonSelect=function(e){var t=this;this.form.on("change",".js-cancellation-reason",function(){t.cancellationReasonSelect.val(e)})},this.CreditCardCancellationForm.prototype.removeEventsOnReasonSelect=function(){this.form.off("change",".js-cancellation-reason")},this.CreditCardCancellationForm.prototype.parseBigInt=function(e){return new Big(parseFloat(e)||0)}}.call(window),function(){"use strict";this.DirectDebitCancellationForm=function(e,t,n,i,r){var a=this;this.form=e,this.cancellationChargeInput=e.find(".js-cancellation-charge"),this.writeOffInput=e.find(".js-write-off"),this.availableBalanceLabel=e.find(".js-available-balance-wrapper label"),this.availableBalanceSpan=e.find(".js-available-balance-wrapper span"),this.clawbackInput=e.find(".js-clawback"),this.insurerCreditInput=e.find(".js-insurer-credit"),this.returnedPremiumOrTransferredCreditInput=e.find(".js-returned-premium-or-transferred-credit"),this.returnedPremiumOrTransferredCreditLabel=this.returnedPremiumOrTransferredCreditInput.siblings("label"),this.paymentMadeInput=e.find(".js-payment-made"),this.cancelledAncillariesInput=e.find(".js-cancelled-ancillaries-credit"),this.existingDepositCreditInput=e.find(".js-existing-deposit-credit"),this.adminChargeInput=e.find(".js-admin-charge input:radio"),this.transactionTypeInput=e.find(".js-transaction-type"),this.backdateCancellationButton=e.find(".js-backdate-cancellation"),this.effectiveDateInput=e.find(".js-effective-date"),this.transactionReferenceInput=e.find(".js-transaction-reference"),this.formSubmitButton=e.find(".js-submit-cancellation"),this.cancellationReasonSelect=e.find(".js-cancellation-reason"),this.cancelledAncillariesCheckbox=e.find(".js-show-cancelled-ancillaries-credit"),this.existingDepositCheckbox=e.find(".js-show-existing-deposit-credit"),this.cancelAndReplaceCheckbox=e.find(".js-is-cancel-and-replace"),this.creditWillBeTransferredCheckbox=e.find(".js-credit-will-be-transferred"),this.calculateEffectiveDateUrl=i,this.redirectUrl=r,this.transactionTypesForReturnedPremium=t,this.transactionTypesForPaymentMade=n,this.copyToReturnedPremiumButton=$("<button>",{text:'Add to "Return Premium"',type:"button","class":"js-add-to-returned-premium",on:{click:function(){a.copyToReturnedPremium()}}}).insertAfter(this.cancellationChargeInput),this.copyToPaymentMadeButton=$("<button>",{text:'Add to "Payment Made"',type:"button","class":"js-add-to-payment-made",on:{click:function(){a.copyToPaymentMade()}}}).insertAfter(this.writeOffInput),this.copyToTransferredCreditInputButton=$("<button>",{text:'Add to "Transferred credit"',type:"button","class":"js-add-to-transferred-credit",on:{click:function(){a.copyToTransferredCreditInput()}}}).insertAfter(this.cancellationChargeInput),this.attachEventHandlers(),this.updateAll(),this.formatNumbers(),this.checkboxLogic()},this.DirectDebitCancellationForm.prototype.RETURNED_PREMIUM_LABEL="Return premium",this.DirectDebitCancellationForm.prototype.TRANSFERRED_CREDIT_LABEL="Transferred credit",this.DirectDebitCancellationForm.prototype.POSITIVE_AMOUNT_LABEL="Available balance",this.DirectDebitCancellationForm.prototype.NEGATIVE_AMOUNT_LABEL="Due from customer",this.DirectDebitCancellationForm.prototype.updateAll=function(){this.cancellationCharge=this.parseBigInt(this.cancellationChargeInput.val()),this.writeOff=this.parseBigInt(this.writeOffInput.val()),this.availableBalance=this.parseBigInt(this.availableBalanceSpan.text()),this.clawback=this.parseBigInt(this.clawbackInput.val()),this.insurerCredit=this.parseBigInt(this.insurerCreditInput.text()),this.returnedPremiumOrTransferredCredit=this.parseBigInt(this.returnedPremiumOrTransferredCreditInput.val()),this.paymentMade=this.parseBigInt(this.paymentMadeInput.val()),this.cancelledAncillaries=this.parseBigInt(this.cancelledAncillariesInput.val()),this.existingDepositCredit=this.parseBigInt(this.existingDepositCreditInput.val()),this.adminCharge=this.parseBigInt(this.adminChargeInput.filter(":checked").val()),this.availableBalance=this.insurerCredit.minus(this.clawback),this.toggleAvailableBalanceLabel(),this.availableBalanceSpan.text(Math.abs(this.availableBalance).toFixed(2)),this.balance=this.availableBalance.plus(this.cancelledAncillaries).plus(this.existingDepositCredit).minus(this.adminCharge).minus(this.returnedPremiumOrTransferredCredit).plus(this.paymentMade),this.balance>=0?(this.cancellationCharge=this.balance,this.writeOff=0,this.cancellationChargeInput.val(this.cancellationCharge.toFixed(2)),this.writeOffInput.val("0.00"),this.backdateCancellationButton.prop("disabled",!0)):(this.writeOff=Math.abs(this.balance),this.cancellationCharge=0,this.writeOffInput.val(this.writeOff.toFixed(2)),this.cancellationChargeInput.val("0.00"),this.backdateCancellationButton.prop("disabled",!1)),this.setMutualExclusiveFieldAsReadOnly(this.returnedPremiumOrTransferredCredit,this.returnedPremiumOrTransferredCreditInput,this.paymentMade,this.paymentMadeInput),this.copyToReturnedPremiumButton.toggle(this.balance>0&&!this.creditWillBeTransferredCheckbox.prop("checked")),this.copyToPaymentMadeButton.toggle(this.balance<0),this.copyToTransferredCreditInputButton.toggle(this.balance>0&&this.creditWillBeTransferredCheckbox.prop("checked")),this.drawTransactionTypes(),this.toggleTransactionTypeInput(),this.toggleTransactionReferenceInput(),this.toggleReturnedPremiumOrTransferredCreditLabel(),this.prepareOnSubmitConfirmationMessage()},this.DirectDebitCancellationForm.prototype.setMutualExclusiveFieldAsReadOnly=function(e,t,n,i){t.is(":visible")&&(e>0?(t.prop("readonly",!1),t.removeClass("readonly-field"),i.prop("readonly",!0),i.addClass("readonly-field")):n>0?(t.prop("readonly",!0),t.addClass("readonly-field"),i.prop("readonly",!1),i.removeClass("readonly-field")):(t.prop("readonly",!1),t.removeClass("readonly-field"),i.prop("readonly",!1),i.removeClass("readonly-field")))},this.DirectDebitCancellationForm.prototype.toggleAvailableBalanceLabel=function(){var e=this.availableBalanceLabel.text(),t=this.availableBalance>=0?this.POSITIVE_AMOUNT_LABEL:this.NEGATIVE_AMOUNT_LABEL;this.availableBalanceLabel.text(t),e!=t&&this.availableBalanceLabel.highlight()},this.DirectDebitCancellationForm.prototype.checkboxLogic=function(){var e=this;$(".js-cancelled-ancillaries-wrapper").toggle(this.cancelledAncillariesCheckbox.prop("checked")),$(".js-existing-deposit-wrapper").toggle(this.existingDepositCheckbox.prop("checked")),$(".js-admin-charge").toggle(this.cancelAndReplaceCheckbox.prop("checked")),this.cancelAndReplaceCheckbox.prop("checked")&&this.attachEventsOnReasonSelect(),this.cancelledAncillariesCheckbox.on("change",function(){$(".js-cancelled-ancillaries-wrapper").toggle(this.checked),this.checked||e.cancelledAncillariesInput.val("0.00"),e.updateAll()}),this.existingDepositCheckbox.on("change",function(){$(".js-existing-deposit-wrapper").toggle(this.checked),this.checked||e.existingDepositCreditInput.val("0.00"),e.updateAll()}),this.cancelAndReplaceCheckbox.on("change",function(){$(".js-admin-charge").toggle(this.checked),e.cancellationReasonSelect.val(this.checked?"cancel_and_replace":"").highlight(),this.checked?(e.attachEventsOnReasonSelect(),e.checkTransferredCreditCheckbox(!0),e.adminChargeInput.last().prop("checked",!0)):(e.removeEventsOnReasonSelect(),e.checkTransferredCreditCheckbox(!1),e.adminChargeInput.first().prop("checked",!0)),e.updateAll()}),this.creditWillBeTransferredCheckbox.on("change",function(){e.checkTransferredCreditCheckbox(this.checked),e.updateAll()})},this.DirectDebitCancellationForm.prototype.checkTransferredCreditCheckbox=function(e){this.creditWillBeTransferredCheckbox.prop("checked",e)},this.DirectDebitCancellationForm.prototype.prepareOnSubmitConfirmationMessage=function(){var e="";this.writeOff>0?(e="WARNING: You are about to write off the amount. This operation should be authorised by a manager.",this.paymentMade>0&&(e+="\n\n",e+="WARNING: You have specified both 'Write-Off' and 'Payment made'. Are you sure you want to continue?")):this.cancellationCharge>0&&this.returnedPremiumOrTransferredCredit>0&&(e+=this.isTransferredCredit()?"WARNING: You have specified both 'Transferred credit' and 'Cancellation charge'. Are you sure you want to continue?":"WARNING: You have specified both 'Return premium' and 'Cancellation charge'. Are you sure you want to continue?"),""===e?this.formSubmitButton.removeData("confirm"):this.formSubmitButton.data("confirm",e)},this.DirectDebitCancellationForm.prototype.copyToReturnedPremium=function(){this.paymentMadeInput.val("0.00"),this.updateAll();var e=this.returnedPremiumOrTransferredCredit.plus(this.cancellationCharge);this.returnedPremiumOrTransferredCreditInput.val(e),this.updateAll(),this.formatNumbers()},this.DirectDebitCancellationForm.prototype.copyToPaymentMade=function(){this.returnedPremiumOrTransferredCreditInput.val("0.00"),this.updateAll();var e=this.paymentMade.plus(this.writeOff);this.paymentMadeInput.val(e),this.updateAll(),this.formatNumbers()},this.DirectDebitCancellationForm.prototype.copyToTransferredCreditInput=function(){this.paymentMadeInput.val("0.00"),this.updateAll();var e=this.returnedPremiumOrTransferredCredit.plus(this.cancellationCharge);this.returnedPremiumOrTransferredCreditInput.val(e),this.updateAll(),this.formatNumbers()},this.DirectDebitCancellationForm.prototype.onBackdateCancellationButtonClick=function(){var e=this;this.backdateCancellationButton.text("Please wait...").prop("disabled",!0),$.ajax({url:this.calculateEffectiveDateUrl,data:{write_off:this.writeOffInput.val(),effective_date:this.effectiveDateInput.val()},success:function(t){e.effectiveDateInput.val(t);var n=e.form.serializeArray().filter(function(e){return $.inArray(e.name,["authenticity_token","cancellation[write_off]","cancellation[cancellation_charge]"])<0});n.push({name:"qa_backdate_cancellation_clicked",value:"yes"}),e.redirect(n)}})},this.DirectDebitCancellationForm.prototype.redirect=function(e){window.location=self.redirectUrl+"?"+$.param(e)},this.DirectDebitCancellationForm.prototype.toggleTransactionTypeInput=function(){var e=this.transactionTypeInput.closest(".js-wrapper");this.returnedPremiumOrTransferredCredit>0&&!this.isTransferredCredit()||this.paymentMade>0?e.show():(this.transactionTypeInput.val(""),e.hide())},this.DirectDebitCancellationForm.prototype.toggleTransactionReferenceInput=function(){var e=this.transactionReferenceInput.closest(".js-wrapper");"credit_debit_card"==this.transactionTypeInput.val()?e.show():(this.transactionReferenceInput.val(""),e.hide())},this.DirectDebitCancellationForm.prototype.drawTransactionTypes=function(){var e=this,t=[],n=this.transactionTypeInput.val()||e.transactionTypeInput.data("selected");this.returnedPremiumOrTransferredCredit>0&&!this.isTransferredCredit()&&(t=this.transactionTypesForReturnedPremium),this.paymentMade>0&&(t=this.transactionTypesForPaymentMade),this.transactionTypeInput.empty().append($.map(t,function(t,i){e.transactionTypeInput.append($("<option />",{value:i,text:t,selected:i==n}))}))},this.DirectDebitCancellationForm.prototype.parseBigInt=function(e){return new Big(parseFloat(e)||0)},this.DirectDebitCancellationForm.prototype.attachEventHandlers=function(){var e=this;this.form.on("blur",".js-format-as-number",function(){var t=$(this);if(!t.hasClass("js-allow-empty")||!isNaN(parseFloat(t.val()))){var n=parseFloat(t.val())||0;t.val(n.toFixed(2)),e.updateAll()}}),this.form.on("input",function(){e.updateAll()}),this.form.on("click",":radio",function(){e.updateAll()}),this.backdateCancellationButton.on("click",function(){e.onBackdateCancellationButtonClick()})},this.DirectDebitCancellationForm.prototype.attachEventsOnReasonSelect=function(){var e=this;this.form.on("change",".js-cancellation-reason",function(){e.cancellationReasonSelect.val("cancel_and_replace")})},this.DirectDebitCancellationForm.prototype.removeEventsOnReasonSelect=function(){this.form.off("change",".js-cancellation-reason")},this.DirectDebitCancellationForm.prototype.formatNumbers=function(){this.form.find(".js-format-as-number").each(function(){var e=$(this);if(!e.hasClass("js-allow-empty")||!isNaN(parseFloat(e.val()))){var t=parseFloat(e.val())||0;e.val(t.toFixed(2))}})},this.DirectDebitCancellationForm.prototype.isTransferredCredit=function(){return this.cancelAndReplaceCheckbox.prop("checked")&&this.creditWillBeTransferredCheckbox.prop("checked")},this.DirectDebitCancellationForm.prototype.toggleReturnedPremiumOrTransferredCreditLabel=function(){var e=this.returnedPremiumOrTransferredCreditLabel.text(),t=this.isTransferredCredit()?this.TRANSFERRED_CREDIT_LABEL:this.RETURNED_PREMIUM_LABEL;this.returnedPremiumOrTransferredCreditLabel.text(t),e!=t&&this.returnedPremiumOrTransferredCreditLabel.highlight()}}.call(window),function(){"use strict";this.CompleteMtaForm=function(e){this.form=e,this.adminFeeInput=e.find(".js-admin-fee"),this.additionalReturnPremiumInput=e.find(".js-additional-return-premium"),this.adminFee=new Big(parseFloat(this.adminFeeInput.val()));var t=this;this.adminFeeInput.on("change",function(){t.calculateAndSetReturnedPremium()})},this.CompleteMtaForm.prototype.calculateAndSetReturnedPremium=function(){var e=new Big(parseFloat(this.additionalReturnPremiumInput.val()));if(this.adminFeeInput.prop("checked")){var t=this.adminFee.plus(e).toFixed(2);this.additionalReturnPremiumInput.val(t)}else{var n=e.minus(this.adminFee).toFixed(2);this.additionalReturnPremiumInput.val(n)}this.additionalReturnPremiumInput.highlight()}}.call(window),function(){"use strict";this.TransactionBaseForm=function(e){this.typeSelect=e.find("#type-select"),this.amountField=e.find("#amount"),this.currentBalance=parseFloat(e.find("#current-balance").text())||0,this.newBalance=e.find("#new-balance")},this.TransactionBaseForm.prototype.selectedTypeOption=function(){return this.typeSelect.find("option:selected")},this.TransactionBaseForm.prototype.cleanAmountField=function(){var e=parseFloat(this.amountField.val());isNaN(e)||this.amountField.val(e.toFixed(2))},this.TransactionBaseForm.prototype.getAmount=function(){return parseFloat(this.amountField.val())||0},this.TransactionBaseForm.prototype.updateAmountValue=function(){this.amountField.val(this.getAmount().toFixed(2))},this.TransactionBaseForm.prototype.updateNewBalance=function(){var e=this.currentBalance,t=this.getAmount(),n=this.selectedTypeOption().attr("operation");isNaN(t)||("credit"==n?e-=t:e+=t,this.newBalance.text(e.toFixed(2)))},this.TransactionBaseForm.prototype.init=function(e){var t=this;e=e||function(){},t.amountField.on("keyup",function(){t.updateNewBalance()}),t.typeSelect.on("change",function(){e(),t.updateNewBalance()}),t.amountField.on("blur",function(){t.cleanAmountField()}),t.updateAmountValue(),t.updateNewBalance()}}.call(window),function(){"use strict";this.CashAdjustmentForm=function(e,t){this.reasonSelect=e.find("#reason-select"),this.availableReasons=t,this.transactionBaseForm=new TransactionBaseForm(e)},this.CashAdjustmentForm.prototype.updateReasonsSelect=function(){var e=this.transactionBaseForm.selectedTypeOption().attr("label");this.paintReasonsSelectWithOptions(this.availableReasons[e])},this.CashAdjustmentForm.prototype.paintReasonsSelectWithOptions=function(e){var t=this;t.reasonSelect.empty(),void 0!=e&&($.each(e,function(e,n){t.reasonSelect.append($("<option />",{value:e,text:n}))}),t.reasonSelect.data("selected")&&t.reasonSelect.val(t.reasonSelect.data("selected")))},this.CashAdjustmentForm.prototype.init=function(){this.transactionBaseForm.init($.proxy(this.updateReasonsSelect,this)),this.updateReasonsSelect()}}.call(window),function(){"use strict";this.ManualAncillariesForm=function(e){this.productSelect=e.find("#product-select"),this.insurerField=e.find("#insurer"),this.transactionBaseForm=new TransactionBaseForm(e)},this.ManualAncillariesForm.prototype.selectedProductOption=function(){return this.productSelect.find("option:selected")},this.ManualAncillariesForm.prototype.updateInsurer=function(){var e=this.selectedProductOption().attr("insurer_label");this.insurerField.val(e)},this.ManualAncillariesForm.prototype.init=function(){var e=this;e.transactionBaseForm.init(),e.productSelect.on("change",function(){e.updateInsurer()}),e.updateInsurer()}}.call(window),function(){"use strict";this.PaymentsForm=function(e,t){this.methodSelect=e.find("#method-select"),this.availableMethods=t,this.transactionBaseForm=new TransactionBaseForm(e,this)},this.PaymentsForm.prototype.updateMethodSelect=function(){var e=this.transactionBaseForm.selectedTypeOption().attr("label");this.paintMethodSelectWithOptions(this.availableMethods[e])},this.PaymentsForm.prototype.paintMethodSelectWithOptions=function(e){var t=this;t.methodSelect.empty(),void 0!=e&&($.each(e,function(e,n){t.methodSelect.append($("<option />",{value:e,text:n}))}),t.methodSelect.data("selected")&&t.methodSelect.val(t.methodSelect.data("selected")))},this.PaymentsForm.prototype.init=function(){this.transactionBaseForm.init($.proxy(this.updateMethodSelect,this)),this.updateMethodSelect()}}.call(window),function(){var e;$(function(){var e;return e=$("input#policy-date-picker, input#transaction-date-picker"),e.datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,minDate:e.attr("min"),maxDate:e.attr("max")})}),$(function(){return $("#policy_search_filter_start_date").datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,onClose:function(e){return $("#policy_search_filter_end_date").datepicker("option","minDate",e)}}),$("#policy_search_filter_end_date").datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,onClose:function(e){return $("#policy_search_filter_start_date").datepicker("option","maxDate",e)}})}),e=this.SB||(this.SB={}),e.policyDateForm=function(e,t){var n,i,r;return n=$(e),i=$(t),r=function(e){return e.is(":checked")?(i.prop("disabled",!0),i.val("")):i.prop("disabled",!1)},r(n),n.click(function(){return r($(this))})},$(function(){return e.policyDateForm("#policy_mta_from_inception","#policy-date-picker")}),$(function(){var e,t,n;return t=$("#policy_mta_mta_reason_type_other"),e=$("label[for=policy_mta_mta_reason_type_other]"),n=function(t){var n;return t.is(":checked")?(n=$("#policy_mta_other_reason").val(),e.after('<input type="text" id="mta_reason_type_other" name="policy_mta[mta_reason_type_other]" value="'+n+'" maxlength="80">')):$("#mta_reason_type_other").remove()},t.click(function(){return n($(this))}),n(t)}),$(function(){var e;return e=$("#new_claim_button"),e.click(function(){return e.hide(),$("#new_claim_form").hide(),$("#new_claim_form form").find("input[type=text], textarea").val(""),$("#new_claim_form").show(300)}),$("#note_date_of_loss").datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,maxDate:0}),$("#note_date_of_loss").attr("readonly","readonly")}),$(function(){var t;return t=$("#auto_renew_toggle"),e.currentAutoRenewFlag=$("#auto_renew_toggle").val(),t.change(function(t){return $("#auto_renew_off_form").hide(),$("#auto_renew_on_form").hide(),"yes"===t.target.value&&"yes"!==e.currentAutoRenewFlag?$("#auto_renew_on_form").show(300):"no"===t.target.value&&"no"!==e.currentAutoRenewFlag?$("#auto_renew_off_form").show(300):void 0})}),$(function(){var e,t,n,i;return n=$("#proof-of-policy"),i=n.find(".js-starting"),e=n.find(".js-create-pop"),t=n.find(".js-form-section"),e.on("click",function(){return i.addClass("hidden"),t.removeClass("hidden")})})}.call(this),window.Modernizr=function(e,t,n){function i(e){b.cssText=e}function r(e,t){return i(w.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var i in e){var r=e[i];if(!s(r,"-")&&b[r]!==n)return"pfx"==t?r:!0}return!1}function l(e,t,i){for(var r in e){var s=t[e[r]];if(s!==n)return i===!1?e[r]:a(s,"function")?s.bind(i||t):s}return!1}function u(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+x.join(i+" ")+i).split(" ");return a(t,"string")||a(t,"undefined")?o(r,t):(r=(e+" "+D.join(i+" ")+i).split(" "),l(r,t,n))}function c(){f.input=function(n){for(var i=0,r=n.length;r>i;i++)E[n[i]]=!!(n[i]in _);return E.list&&(E.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(e){for(var i,r,a,s=0,o=e.length;o>s;s++)_.setAttribute("type",r=e[s]),i="text"!==_.type,i&&(_.value=k,_.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&_.style.WebkitAppearance!==n?(g.appendChild(_),a=t.defaultView,i=a.getComputedStyle&&"textfield"!==a.getComputedStyle(_,null).WebkitAppearance&&0!==_.offsetHeight,g.removeChild(_)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?_.checkValidity&&_.checkValidity()===!1:_.value!=k)),F[e[s]]=!!i;return F}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,h,p="2.8.3",f={},m=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,_=t.createElement("input"),k=":)",w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),C="Webkit Moz O ms",x=C.split(" "),D=C.toLowerCase().split(" "),T={},F={},E={},S=[],M=S.slice,I=function(e,n,i,r){var a,s,o,l,u=t.createElement("div"),c=t.body,d=c||t.createElement("body");if(parseInt(i,10))for(;i--;)o=t.createElement("div"),o.id=r?r[i]:v+(i+1),u.appendChild(o);return a=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),u.id=v,(c?u:d).innerHTML+=a,d.appendChild(u),c||(d.style.background="",d.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),s=n(u,e),c?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),g.style.overflow=l),!!s},A={}.hasOwnProperty;h=a(A,"undefined")||a(A.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return A.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=M.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var a=new r,s=t.apply(a,n.concat(M.call(arguments)));return Object(s)===s?s:a}return t.apply(e,n.concat(M.call(arguments)))};return i}),T.flexbox=function(){return u("flexWrap")},T.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:I(["@media (",w.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop
}),n},T.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},T.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},T.backgroundsize=function(){return u("backgroundSize")},T.boxshadow=function(){return u("boxShadow")},T.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},T.cssanimations=function(){return u("animationName")},T.csscolumns=function(){return u("columnCount")},T.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+w.join(n+e)).slice(0,-e.length)),s(b.backgroundImage,"gradient")},T.csstransforms=function(){return!!u("transform")},T.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in g.style&&I("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},T.csstransitions=function(){return u("transition")},T.generatedcontent=function(){var e;return I(["#",v,"{font:0/0 a}#",v,':after{content:"',k,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},T.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}};for(var N in T)h(T,N)&&(d=N.toLowerCase(),f[d]=T[N](),S.push((f[d]?"":"no-")+d));return f.input||c(),f.addTest=function(e,t){if("object"==typeof e)for(var i in e)h(e,i)&&f.addTest(i,e[i]);else{if(e=e.toLowerCase(),f[e]!==n)return f;t="function"==typeof t?t():t,"undefined"!=typeof m&&m&&(g.className+=" "+(t?"":"no-")+e),f[e]=t}return f},i(""),y=_=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=v[e[m]];return t||(t={},g++,e[m]=g,v[g]=t),t}function a(e,n,i){if(n||(n=t),c)return n.createElement(e);i||(i=r(n));var a;return a=i.cache[e]?i.cache[e].cloneNode():f.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!a.canHaveChildren||p.test(e)||a.tagUrn?a:i.frag.appendChild(a)}function s(e,n){if(e||(e=t),c)return e.createDocumentFragment();n=n||r(e);for(var a=n.frag.cloneNode(),s=0,o=i(),l=o.length;l>s;s++)a.createElement(o[s]);return a}function o(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function l(e){e||(e=t);var i=r(e);return!y.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||o(e,i),e}var u,c,d="3.7.0",h=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,c=!0}}();var y={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:h.shivCSS!==!1,supportsUnknownElements:c,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:s};e.html5=y,l(t)}(this,t),f._version=p,f._prefixes=w,f._domPrefixes=D,f._cssomPrefixes=x,f.testProp=function(e){return o([e])},f.testAllProps=u,f.testStyles=I,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+S.join(" "):""),f}(this,this.document),Modernizr.addTest("placeholder",function(){return!!("placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea")))}),Modernizr.addTest("pointerevents",function(){var e,t=document.createElement("x"),n=document.documentElement,i=window.getComputedStyle;return"pointerEvents"in t.style?(t.style.pointerEvents="auto",t.style.pointerEvents="x",n.appendChild(t),e=i&&"auto"===i(t,"").pointerEvents,n.removeChild(t),!!e):!1}),function(e,t){"use strict";var n=e.datepicker._checkOffset;e.extend(e.datepicker,{_checkOffset:function(e,t){var t=n.apply(this,arguments);return t.top+=t.top<e.input.offset().top?-5:5,t}}),e.widget("bijou.pickadate",e.bijou.base,{_create:function(){this.dateInput=this.element.is(":input")?this.element:this.element.find("input");var n=this.dateInput.data("ruleMindate"),i=this.dateInput.data("ruleMaxdate");t.touch?n&&i&&this._replaceWithDropdown(n,i):this._applyDatepicker(n,i);var r=new Date,a=new Date;a.setDate(r.getDate()+1),this._on({"click .pickadate-today":function(t){t.preventDefault(),this.dateInput.val(e.datepicker.formatDate("dd/mm/yy",r)),this._triggerValidation(),this.dateInput.trigger("change")},"click .pickadate-tomorrow":function(t){t.preventDefault(),this.dateInput.val(e.datepicker.formatDate("dd/mm/yy",a)),this._triggerValidation(),this.dateInput.trigger("change")}})},_applyDatepicker:function(t,n){var i=this.dateInput,r=this;i.datepicker({dateFormat:"dd/mm/yy",dayNamesMin:["S","M","T","W","T","F","S"],firstDay:1,showAnim:!1,minDate:t&&e.datepicker.parseDate("dd/mm/yy",t),maxDate:n&&e.datepicker.parseDate("dd/mm/yy",n),onSelect:function(){i.trigger("change"),r._triggerValidation(),i.focus(),setTimeout(function(){i.datepicker("hide")},1)}}),i.attr("autocomplete","off"),this._on(this.window,{resize:function(){i.datepicker("hide")}}),this._on(i,{click:function(){i.datepicker("show")}})},_replaceWithDropdown:function(t,n){var i=this.dateInput,r=e("<select>").attr("id",i.attr("id")).attr("name",i.attr("name")).addClass(i.attr("class")).removeClass("medium").append('<option value="">Select a date</option>'),a=e.datepicker.parseDate("dd/mm/yy",t);for(n=e.datepicker.parseDate("dd/mm/yy",n);a.getTime()<=n.getTime();)r.append(e("<option/>").attr("value",e.datepicker.formatDate("dd/mm/yy",a)).text(e.datepicker.formatDate("D, d M yy",a))),a.setDate(a.getDate()+1);i.val()&&r.val(i.val()),i.replaceWith(e('<span class="select-wrapper"/>').wrapInner(r)),this.dateInput=r},_triggerValidation:function(){var e=this.options.form.validate();e.submitted[this.dateInput[0].name]&&this.dateInput.valid()}})}(window.jQuery,window.Modernizr),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i,r;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),r=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),void 0!==r?r:!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n;return e(this[0]).is("form")?t=this.validate().form():(t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t})),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i,r,a,s,o,l,u=this[0];if(t)switch(i=e.data(u.form,"validator").settings,r=i.rules,a=e.validator.staticRules(u),t){case"add":e.extend(a,e.validator.normalizeRule(n)),delete a.messages,r[u.name]=a,n.messages&&(i.messages[u.name]=e.extend(i.messages[u.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),function(t,n){l[n]=a[n],delete a[n],"required"===n&&e(u).removeAttr("aria-required")}),l):(delete r[u.name],a)}return s=e.validator.normalizeRules(e.extend({},e.validator.classRules(u),e.validator.attributeRules(u),e.validator.dataRules(u),e.validator.staticRules(u)),u),s.required&&(o=s.required,delete s.required,s=e.extend({required:o},s),e(u).attr("aria-required","true")),s.remote&&(o=s.remote,delete s.remote,s=e.extend(s,{remote:o})),s}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,""),r=n.settings;r[i]&&!this.is(r.ignore)&&r[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){i[n]=t})}),n=this.settings.rules,e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),i=this.validationTargetFor(n),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=e(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),e(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i=e(t),r=t.type;return"radio"===r||"checkbox"===r?e("input[name='"+t.name+"']:checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:i.val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,r,a=e(t).rules(),s=e.map(a,function(e,t){return t}).length,o=!1,l=this.elementValue(t);for(i in a){r={method:i,parameters:a[i]};try{if(n=e.validator.methods[i].call(this,l,t,r.parameters),"dependency-mismatch"===n&&1===s){o=!0;continue}if(o=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,r),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",u),u}}if(!o)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t,method:n.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i,r,a,s=this.errorsFor(t),o=this.idOrName(t),l=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=e("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(n||""),i=s,this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t),s.is("label")?s.attr("for",o):0===s.parents("label[for='"+o+"']").length&&(a=s.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),l?l.match(new RegExp("\\b"+a+"\\b"))||(l+=" "+a):l=a,e(t).attr("aria-describedby",l),r=this.groups[t.name],r&&e.each(this.groups,function(t,n){n===r&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.idOrName(t),i=e(t).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+i.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n,i,r={},a=e(t),s=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(i=t.getAttribute(n),""===i&&(i=!0),i=!!i):i=a.attr(n),/min|max/.test(n)&&(null===s||/number|range|text/.test(s))&&(i=Number(i)),i||0===i?r[n]=i:s===n&&"range"!==s&&(r[n]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var n,i,r={},a=e(t);for(n in e.validator.methods)i=a.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,r){if(r===!1)return void delete t[i];if(r.param||r.depends){var a=!0;switch(typeof r.depends){case"string":a=!!e(r.depends,n.form).length;break;case"function":a=r.depends.call(n,n)}a?t[i]=void 0!==r.param?r.param:!0:delete t[i]}}),e.each(t,function(i,r){t[i]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,r=0,a=0,s=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(n=e.length-1;n>=0;n--)i=e.charAt(n),a=parseInt(i,10),s&&(a*=2)>9&&(a-=9),r+=a,s=!s;return r%10===0},minlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||r>=i},maxlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r},rangelength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var r,a,s=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===t?s.valid:(s.old=t,r=this,this.startRequest(n),a={},a[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:r.currentForm,success:function(i){var a,o,l,u=i===!0||"true"===i;r.settings.messages[n.name].remote=s.originalMessage,u?(l=r.formSubmitted,r.prepareElement(n),r.formSubmitted=l,r.successList.push(n),delete r.invalid[n.name],r.showErrors()):(a={},o=i||r.defaultMessage(n,"remote"),a[n.name]=s.message=e.isFunction(o)?o(t):o,r.invalid[n.name]=!0,r.showErrors(a)),s.valid=u,r.stopRequest(n,u)}},i)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var r=e.port;"abort"===e.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(t=e.ajax,e.ajax=function(i){var r=("mode"in i?i:e.ajaxSettings).mode,a=("port"in i?i:e.ajaxSettings).port;return"abort"===r?(n[a]&&n[a].abort(),n[a]=t.apply(this,arguments),n[a]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?i.apply(r,arguments):void 0})}})}),function(e){"use strict";function t(e){if(!e.match(/^\d?\d\/\d?\d\/\d\d\d\d$/))return new Date(0/0);var t=e.split("/");if(3!==t.length)return new Date(0/0);var n=parseInt(t[2],10),i=parseInt(t[1],10)-1,r=parseInt(t[0],10);if(isNaN(n)||isNaN(i)||isNaN(r))return new Date(0/0);var a=new Date(n,i,r);return r!==a.getDate()||i!==a.getMonth()||n!==a.getFullYear()?new Date(0/0):a}$.validator.prototype.focusInvalid=function(){if(this.settings.focusInvalid){var e=$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible");if(e.length)if("function"==typeof this.settings.focusInvalid)this.settings.focusInvalid(e);else try{e.get(0).scrollIntoView(),e.focus().trigger("focusin")}catch(t){}}},$.validator.prototype.resetField=function(e){this.settings.unhighlight.call(this,e[0],this.settings.errorClass,this.settings.validClass),this.toHide=this.toHide.add(this.errorsFor(e[0])),this.hideErrors()},$.validator.addMethod("not",function(e,t,n){return this.optional(t)||e!==n},$.validator.format("Please enter another value than {0}.")),$.validator.addMethod("currency_without_decimals",function(e,t){return this.optional(t)||/^\xa3?[0-9]+(,[0-9]{3})*$/.test(e)},"Please enter a value in pounds."),$.validator.addMethod("currency",function(e,t){return this.optional(t)||/^\xa3?[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/.test(e)},"Please enter a value in pounds."),$.validator.addMethod("free_text_currency",function(e,t){var n=e.replace(/,/g,"");return this.optional(t)||/^[0-9]*$/.test(n)},"Please enter a currency value"),$.validator.addMethod("postcode",function(t,n){return this.optional(n)||e($.trim(t))},"Please enter a valid postcode"),$.validator.addMethod("zipcode",function(e,t){return this.optional(t)||/^[0-9]{5}(-[0-9]{4})?$/.test(e)},"Please enter a valid zipcode"),$.validator.addMethod("date",function(e,n){return this.optional(n)||!isNaN(t(e).getTime())},"Please enter a valid date"),$.validator.addMethod("mindate",function(e,n,i){return this.optional(n)||t(e).getTime()>=t(i).getTime()},"Please enter a valid date"),$.validator.addMethod("maxdate",function(e,n,i){return this.optional(n)||t(e).getTime()<=t(i).getTime()},"Please enter a valid date"),$.validator.addMethod("uk_telephone_number",function(e,t){var n=/^(\+44|0044|44|0)[\d\-()]{9,11}$|^(\+|00)[\d\-()]{5,20}$/,i=e.replace(/[\-()\s]/g,"");return this.optional(t)||n.test(i)},"Please enter a valid phone number"),$.validator.addMethod("us_telephone_number",function(e,t){return this.optional(t)||/^\([\d]{3}\)\s[\d]{3}-[\d]{4}$/.test(e)},"Please enter a valid phone number"),$.validator.addMethod("pol_num",function(e){return/^(?:[A-Z]{2}|[A-Z]{4})\d{6,7}[A-Z]{2}$/i.test(e)},"Invalid policy number. Policy numbers begin with 2 or 4 letters, followed by 6 or 7 digits, followed by 2 letters.")}(window.checkPostCode),function(e){"use strict";e.widget("bijou.dropdown",e.bijou.base,{options:{wrapperSelector:".select-wrapper"},_create:function(){var e=this;this.wrapper=this.element.closest(this.options.wrapperSelector),this.element.on({"change blur validationchange":function(){e._update()}}),this._update()},_update:function(){this.wrapper.toggleClass("error",this.element.hasClass("error")),this.wrapper.toggleClass("valid",this.element.hasClass("valid"))}})}(window.jQuery,window.Modernizr),function(){"use strict";$.extend($.fn,{placeholder:function(){return this.each(function(){var e,t,n;return e=$(this),n=function(){return t.toggle(""===e.val())},t=$("<label />",{"class":"placeholder","for":e.attr("id"),text:e.attr("placeholder")}).insertBefore(e),e.on("keyup.placeholder change.placeholder input.placeholder blur.placeholder",function(){return n()}),n(),$(window).on("load",n)})}}),("undefined"!=typeof Modernizr&&null!==Modernizr?Modernizr.placeholder:void 0)||$("html").on("bijou_init",function(e){return $(e.target).find("input[placeholder], textarea[placeholder]").placeholder()})}.call(this),function(e,t){"use strict";e.widget("bijou.smart_form",e.bijou.base,{options:{customValidation:{},pleaseWait:"Please wait..."},_create:function(){var t=this;this.element.find("select").dropdown({form:this.element}),this.element.find("[data-control]").each(function(n,i){var r=e(i),a=r.data("control");e.fn[a]&&r[a]({form:t.element})}),this.breakpointEnabled(),this._setupValidation(),this.options.pleaseWait&&(this.submitButton=this.element.find("button[type=submit]"),this.submitButtonLabel=this.submitButton.html(),t.window.on("pageshow",function(){t.enableButton()
}))},_setupValidation:function(){var n,i=this;n=e.extend({submitHandler:function(t,n){var r=e.Event("validate");i.element.trigger(r),r.result===!1||r.isDefaultPrevented()?n.stopImmediatePropagation():(i.options.pleaseWait&&i.disableButton(),setTimeout(function(){t.submit()},i.options.pleaseWait?100:0))},focusInvalid:function(e){var n=e.closest(".control-block");n.length?n.get(0).scrollIntoView():e.get(0).scrollIntoView(),t.touch||e.focus().trigger("focusin")},showErrors:function(t,n){var r=e.Event("render_errors");r.errorMap=t,r.errorList=n,i.element.trigger(r),r.result===!1||r.isDefaultPrevented()||this.defaultShowErrors()},errorPlacement:function(e,t){t.closest(".claim").length&&"mobile"!==i.options.breakpoint?t.closest(".control-group").append(e):t.closest(".control").after(e)},highlight:function(t,n,i){var r=e(t).closest(".control-block");e(t).addClass(n).removeClass(i),r.addClass(n).removeClass(i),e(t).trigger("validationchange",[!1])},unhighlight:function(t,n,r){var a=e(t).closest(".control-block"),s=i._validator.optional(t);e(t).removeClass(n).toggleClass(r,!s),a.removeClass(n).toggleClass(r,!s),e(t).trigger("validationchange",[!0])},onfocusout:!1},this.options.customValidation);var r=this._validator=this.element.validate(n),a=i.element.find(".claim");this._onBreakpoint("mobile",function(){var t=a.filter(function(){return e(this).has("label.error").length});t.length&&(t.find("label.error").remove(),t.find(":input").each(function(){r.element(this)}))},!0),this._on(this.element.find("select"),{change:function(t){i._validator.submitted[t.currentTarget.name]&&e(t.currentTarget).valid()}}),this._on({"input input":function(t){i._validator.submitted[t.currentTarget.name]&&e(t.currentTarget).valid()}})},disableButton:function(){this.submitButton.prop("disabled",!0).html(this.options.pleaseWait)},enableButton:function(){this.submitButton.prop("disabled",!1).html(this.submitButtonLabel)},clearFieldValue:function(t){e(t).each(function(){var t=e(this);t.is(":text, input[type=hidden], textarea")?t.val(""):t.is("select")?t.prop("selectedIndex",0):t.is(":radio, :checkbox")&&t.prop("checked",!1)})},setFieldValue:function(t,n){var i=e(t);i.is(":text, input[type=hidden], textarea, select")?i.val(n):i.is(":radio")?i.prop("checked",i.attr("value")===n):i.is(":checkbox")&&("array"===e.type(n)?i.prop("checked",e.inArray(i.attr("value"),n)>=0):i.prop("checked",i.attr("value")===n))}})}(window.jQuery,window.Modernizr),function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t||n)}(function(e){var t=function(t,n,i){var r={invalid:[],getCaret:function(){try{var e,n=0,i=t.get(0),a=document.selection,s=i.selectionStart;return a&&-1===navigator.appVersion.indexOf("MSIE 10")?(e=a.createRange(),e.moveStart("character",-r.val().length),n=e.text.length):(s||"0"===s)&&(n=s),n}catch(o){}},setCaret:function(e){try{if(t.is(":focus")){var n,i=t.get(0);i.setSelectionRange?i.setSelectionRange(e,e):(n=i.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select())}}catch(r){}},events:function(){t.on("keydown.mask",function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",r.getCaret()),r.maskDigitPosMapOld=r.maskDigitPosMap}).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",r.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){o===r.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){o=r.val()}).on("focus.mask",function(t){i.selectOnFocus===!0&&e(t.target).select()}).on("focusout.mask",function(){i.clearIfNotMatch&&!a.test(r.val())&&r.val("")})},getRegexMask:function(){for(var e,t,i,r,a,o,l=[],u=0;u<n.length;u++)e=s.translation[n.charAt(u)],e?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,r=e.recursive,r?(l.push(n.charAt(u)),a={digit:n.charAt(u),pattern:t}):l.push(i||r?t+"?":t)):l.push(n.charAt(u).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=l.join(""),a&&(o=o.replace(new RegExp("("+a.digit+"(.*"+a.digit+")?)"),"($1)?").replace(new RegExp(a.digit,"g"),a.pattern)),new RegExp(o)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var n,i=t.is("input"),r=i?"val":"text";return arguments.length>0?(t[r]()!==e&&t[r](e),n=t):n=t[r](),n},calculateCaretPosition:function(){var e=t.data("mask-previus-value")||"",n=r.getMasked(),i=r.getCaret();if(e!==n){var a=t.data("mask-previus-caret-pos")||0,s=n.length,o=e.length,l=0,u=0,c=0,d=0,h=0;for(h=i;s>h&&r.maskDigitPosMap[h];h++)u++;for(h=i-1;h>=0&&r.maskDigitPosMap[h];h--)l++;for(h=i-1;h>=0;h--)r.maskDigitPosMap[h]&&c++;for(h=a-1;h>=0;h--)r.maskDigitPosMapOld[h]&&d++;if(i>o)i=10*s;else if(a>=i&&a!==o){if(!r.maskDigitPosMapOld[i]){var p=i;i-=d-c,i-=l,r.maskDigitPosMap[i]&&(i=p)}}else i>a&&(i+=c-d,i+=u)}return i},behaviour:function(n){n=n||window.event,r.invalid=[];var i=t.data("mask-keycode");if(-1===e.inArray(i,s.byPassKeys)){var a=r.getMasked(),o=r.getCaret();return setTimeout(function(){r.setCaret(r.calculateCaretPosition())},10),r.val(a),r.setCaret(o),r.callbacks(n)}},getMasked:function(e,t){var a,o,l=[],u=void 0===t?r.val():t+"",c=0,d=n.length,h=0,p=u.length,f=1,m="push",g=-1,v=0,y=[];i.reverse?(m="unshift",f=-1,a=0,c=d-1,h=p-1,o=function(){return c>-1&&h>-1}):(a=d-1,o=function(){return d>c&&p>h});for(var b;o();){var _=n.charAt(c),k=u.charAt(h),w=s.translation[_];w?(k.match(w.pattern)?(l[m](k),w.recursive&&(-1===g?g=c:c===a&&(c=g-f),a===g&&(c-=f)),c+=f):k===b?(v--,b=void 0):w.optional?(c+=f,h-=f):w.fallback?(l[m](w.fallback),c+=f,h-=f):r.invalid.push({p:h,v:k,e:w.pattern}),h+=f):(e||l[m](_),k===_?(y.push(h),h+=f):(b=_,y.push(h+v),v++),c+=f)}var C=n.charAt(a);d!==p+1||s.translation[C]||l.push(C);var x=l.join("");return r.mapMaskdigitPositions(x,y,p),x},mapMaskdigitPositions:function(e,t,n){var a=i.reverse?e.length-n:0;r.maskDigitPosMap={};for(var s=0;s<t.length;s++)r.maskDigitPosMap[t[s]+a]=1},callbacks:function(e){var a=r.val(),s=a!==o,l=[a,e,t,i],u=function(e,t,n){"function"==typeof i[e]&&t&&i[e].apply(this,n)};u("onChange",s===!0,l),u("onKeyPress",s===!0,l),u("onComplete",a.length===n.length,l),u("onInvalid",r.invalid.length>0,[a,e,t,r.invalid,i])}};t=e(t);var a,s=this,o=r.val();n="function"==typeof n?n(r.val(),void 0,t,i):n,s.mask=n,s.options=i,s.remove=function(){var e=r.getCaret();return r.destroyEvents(),r.val(s.getCleanVal()),r.setCaret(e),t},s.getCleanVal=function(){return r.getMasked(!0)},s.getMaskedVal=function(e){return r.getMasked(!1,e)},s.init=function(o){if(o=o||!1,i=i||{},s.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,s.byPassKeys=e.jMaskGlobals.byPassKeys,s.translation=e.extend({},e.jMaskGlobals.translation,i.translation),s=e.extend(!0,{},s,i),a=r.getRegexMask(),o)r.events(),r.val(r.getMasked());else{i.placeholder&&t.attr("placeholder",i.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var l=0,u=!0;l<n.length;l++){var c=s.translation[n.charAt(l)];if(c&&c.recursive){u=!1;break}}u&&t.attr("maxlength",n.length),r.destroyEvents(),r.events();var d=r.getCaret();r.val(r.getMasked()),r.setCaret(d)}},s.init(!t.is("input"))};e.maskWatchers={};var n=function(){var n=e(this),r={},a="data-mask-",s=n.attr("data-mask");return n.attr(a+"reverse")&&(r.reverse=!0),n.attr(a+"clearifnotmatch")&&(r.clearIfNotMatch=!0),"true"===n.attr(a+"selectonfocus")&&(r.selectOnFocus=!0),i(n,s,r)?n.data("mask",new t(this,s,r)):void 0},i=function(t,n,i){i=i||{};var r=e(t).data("mask"),a=JSON.stringify,s=e(t).val()||e(t).text();try{return"function"==typeof n&&(n=n(s)),"object"!=typeof r||a(r.options)!==a(i)||r.mask!==n}catch(o){}},r=function(e){var t,n=document.createElement("div");return e="on"+e,t=e in n,t||(n.setAttribute(e,"return;"),t="function"==typeof n[e]),n=null,t};e.fn.mask=function(n,r){r=r||{};var a=this.selector,s=e.jMaskGlobals,o=s.watchInterval,l=r.watchInputs||s.watchInputs,u=function(){return i(this,n,r)?e(this).data("mask",new t(this,n,r)):void 0};return e(this).each(u),a&&""!==a&&l&&(clearInterval(e.maskWatchers[a]),e.maskWatchers[a]=setInterval(function(){e(document).find(a).each(u)},o)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each(function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")})},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){t=t||e.jMaskGlobals.maskElements;var i=t instanceof e?t:e(t);i.filter(e.jMaskGlobals.dataMaskAttr).each(n)};var a={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&r("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},a=e.jMaskGlobals=e.extend(!0,{},a,e.jMaskGlobals),a.dataMask&&e.applyDataMask(),setInterval(function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()},a.watchInterval)},window.jQuery,window.Zepto),function(){"use strict";var e=[{selector:".us_telephone_number",mask:"(000) 000-0000"},{selector:".zipcode",mask:"00000-0000"},{selector:".free_text_currency",mask:"#,##0",reverse:!0}];$(e).each(function(){$(this.selector).mask(this.mask,{reverse:this.reverse})})}(),function(){!function(e){return e.widget("bijou.infoBoxSet",e.bijou.base,{options:{boxSelector:".info-box",toggleSelector:".info-box-toggle",activeClass:"info-box-active"},_create:function(){return this.boxes=this.element.find(this.options.boxSelector),this.activeBox=null,this.element.on("click",this.options.toggleSelector,function(t){return function(n){return n.preventDefault(),t.toggle(e(n.currentTarget).closest(t.options.boxSelector))}}(this))},show:function(e){return-1!==this.boxes.index(e)&&!this._isActive(e)&&this._trigger("show",null,{box:e})?(null!=this.activeBox&&this.hide(),this.activeBox=e.addClass(this.options.activeClass),this._trigger("shown",null,{box:e})):void 0},hide:function(e){return null==e&&(e=this.activeBox),this._isActive(e)&&this._trigger("hide",null,{box:e})?(e.removeClass(this.options.activeClass),this.activeBox=null,this._trigger("hidden",null,{box:e})):void 0},toggle:function(e){return this._isActive(e)?this.hide(e):this.show(e)},_isActive:function(e){return null!=this.activeBox&&this.activeBox.is(e)}})}(window.jQuery)}.call(this),function(e){"use strict";e.widget("bijou.addressFinder",e.bijou.base,{options:{lookupUrl:null,fetchUrl:null,state:"",form:null},_create:function(){this.searchBlock=this.element.find(".search"),this.searchField=this.searchBlock.find("input"),this.searchButton=this.searchBlock.find("button"),this.addressDropdown=this.searchBlock.find("select"),this.addressFields=this.element.find(".fields input"),this._on({"click .search button":function(){this.lookup()},"click .switch-to-manual":function(e){e.preventDefault(),this.setState("manual")},"click .switch-to-search":function(e){e.preventDefault(),this.setState("search")}}),this._on(this.addressDropdown,{change:function(){this.addressDropdown[0].selectedIndex>0&&this.fetch(this.addressDropdown.val())}}),this._on(this.options.form,{validate:function(e){this.searchField.is(":visible")&&"search"===this.options.state&&!this.searchBlock.hasClass("with-results")&&(this.searchField.rules("add",{not:this.searchField.val()}),this.searchField.valid(),this.searchField.rules("remove","not"),this.searchButton.trigger("focus"),e.preventDefault())}}),this.options.state=this.element.hasClass("state-search")?"search":"manual"},setState:function(e){e!==this.options.state&&(this.element.removeClass("state-"+this.options.state),this.options.state=e,this.element.addClass("state-"+this.options.state),"search"===this.options.state&&(this.searchBlock.removeClass("no-results"),this._resetValidation(this.addressFields),this.addressFields.not("[readonly]").val(""),this.searchBlock.hasClass("with-results")?this.addressDropdown.trigger("focus"):this.searchField.trigger("focus")),"manual"===this.options.state&&(this._resetValidation(this.searchField),this._resetValidation(this.addressDropdown),this.addressDropdown.val(""),this.addressFields.first().trigger("focus")))},_resetValidation:function(t){t.each(function(){e(this).removeClass("error valid").closest(".control-block").removeClass("error valid").find("label.error").hide()})},lookup:function(){var t=this;return this.searchBlock.removeClass("with-results no-results"),this.searchField.valid()?(this.searchBlock.addClass("loading"),void e.ajax({type:"POST",url:this.options.lookupUrl,data:{postcode:this.searchField.val()},dataType:"json"}).done(function(e){t.showResults(e)}).fail(function(){t.showResults([])}).always(function(){t.searchBlock.removeClass("loading")})):void this.searchField.trigger("focus")},showResults:function(t){var n=this;this.addressDropdown.find("option:gt(0)").remove(),t.length>0?(e(t).each(function(e,t){n.addressDropdown.append('<option value="'+t.id+'">'+t.description+"</option>")}),this.searchBlock.addClass("with-results"),this.addressDropdown.trigger("focus")):(this.searchBlock.addClass("no-results"),this.searchField.trigger("focus"))},fetch:function(t){var n=this;this.searchBlock.addClass("loading"),e.ajax({type:"POST",url:this.options.fetchUrl,data:{id:t},dataType:"json"}).done(function(e){n.populateAddress(e)}).fail(function(){var e=n.addressDropdown.data("msg");n.addressDropdown.data("msg","We've found your address, but hit a system error. Please try again."),n.addressDropdown.val("").valid(),n.addressDropdown.data("msg",e)}).always(function(){n.searchBlock.removeClass("loading")})},populateAddress:function(e){this.addressFields.eq(0).val(e.address_line_1),this.addressFields.eq(1).val(e.address_line_2),this.addressFields.eq(2).val(e.post_town),this.addressFields.eq(3).val(e.postcode),this.setState("manual")}})}(window.jQuery),function(){!function(e){return e.widget("bijou.cover_question",e.bijou.base,{_create:function(){var t,n,i,r,a,s,o,l;return t=this.element.next(),s=t.find("select"),o=""!==(a=s.val())&&"0"!==a,i=this.element.hasClass("off"),n=e('<input type="hidden">'),n.attr("name",s.attr("name")).val("0").prop("disabled",o||i).appendTo(this.element),s.prop("disabled",!o).find("option").eq(1).remove(),r=this.element.find(":radio"),l=r.first(),t.on("questionShow",function(e){return l[0].checked?void 0:e.preventDefault()}),r.on("change",function(i){return function(){var r,a,o,u;if(l[0].checked)return n.prop("disabled",!0),i.options.form.smart_form("toggleQuestion",t,!0);for(n.prop("disabled",!1),i.options.form.smart_form("toggleQuestion",t,!1),u=t.nextAll(".control-block"),r=0,a=u.length;a>r;r++)o=u[r],i.options.form.smart_form("toggleQuestion",e(o),!1);return s.prop("disabled",!0).trigger("change")}}(this))}})}(window.jQuery)}.call(this),function(e){"use strict";e.fn.flashError=function(t){var n=e(this),i=n.closest(".control");i.children(".error").remove(),i.append('<label class="error alert">'+t+"</label>")}}(window.jQuery),function(e){"use strict";var t=function(e,t){var n="/"+e+"/questionnaire/redirect_from_cms?landlord_type=";window.location=n+t+window.location.search.replace(/^\?/,"&")};e(function(){e("body.commercial_landlord #property_type_residential").on("click",function(){t("landlord","residential")}),e("body.landlord #landlord_type_commercial, body.landlord #landlord_type_mixed").on("click",function(){t("commercial_landlord",this.value)})})}(window.jQuery),function(){!function(e){return e.widget("chopin.trade_selector",e.bijou.base,{options:{form:null,groupType:null},_create:function(){var t,n;return this.manyToManyType="many_to_many"===this.options.groupType,this.itemSelect=this.element.find("select").last(),this.categorySelect=this.element.find("select").first(),this.categoryItems={},this.allOptions=e([]),n=this.itemSelect.val()&&this.itemSelect.find(":selected"),this.allOptions=this.itemSelect.find("option:gt(0)"),this.allOptions.each(function(t){return function(n,i){var r,a;return a=e(i).attr("categorycode"),((r=t.categoryItems)[a]||(r[a]=[])).push(e(i).remove())}}(this)),this.allOptions.sort(function(e,t){return e.value.toLowerCase()===t.value.toLowerCase()?0:e.value.toLowerCase()<t.value.toLowerCase()?-1:1}),n&&!this.manyToManyType&&(t=this.categorySelect.find("option[categorycode='"+n.attr("categorycode")+"']").index(),this.categorySelect.prop("selectedIndex",t).trigger("change")),this.populateSelect(),n&&this.itemSelect.val(n.attr("value")).trigger("change"),this.categorySelect.on("change",function(e){return function(){return e.options.form.validate().resetField(e.itemSelect),e.populateSelect(),e._trackChanges()}}(this)),this.itemSelect.on("change",function(e){return function(){return e._trackChanges()}}(this))},populateSelect:function(){var e,t,n;return t=this.categorySelect.find(":selected").attr("categorycode"),e=this.allOptions,this.manyToManyType&&(e=null),n=this.itemSelect.val(),this.itemSelect.find("option:gt(0)").removeAttr("selected").remove(),this.itemSelect.append(this.categoryItems[t]||e),n&&this.itemSelect.val(n),this.itemSelect[0].selectedIndex<1?this.itemSelect.prop("selectedIndex",0):void 0},_trackChanges:function(){return this.options.trackedEvent&&window.EventTracker&&this.itemSelect.val()&&this.categorySelect.val()?EventTracker.trigger(this.options.trackedEvent,this.categorySelect.val()+" | "+this.itemSelect.val()):void 0}})}(window.jQuery)}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return function(){function t(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,a,s=Math.max,o=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=i.children()[0];return e("body").append(i),t=a.offsetWidth,i.css("overflow","scroll"),n=a.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,a="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=e.extend({},r);var p,m,g,v,y,b,_=e(r.of),k=e.position.getWithinInfo(r.within),w=e.position.getScrollInfo(k),C=(r.collision||"flip").split(" "),x={};return b=i(_),_[0].preventDefault&&(r.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=d.exec(n[0]),t=d.exec(n[1]),x[this]=[e?e[0]:0,t?t[0]:0],r[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===r.at[0]?y.left+=m:"center"===r.at[0]&&(y.left+=m/2),"bottom"===r.at[1]?y.top+=g:"center"===r.at[1]&&(y.top+=g/2),p=t(x.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var i,u,c=e(this),d=c.outerWidth(),h=c.outerHeight(),f=n(this,"marginLeft"),b=n(this,"marginTop"),D=d+f+n(this,"marginRight")+w.width,T=h+b+n(this,"marginBottom")+w.height,F=e.extend({},y),E=t(x.my,c.outerWidth(),c.outerHeight());"right"===r.my[0]?F.left-=d:"center"===r.my[0]&&(F.left-=d/2),"bottom"===r.my[1]?F.top-=h:"center"===r.my[1]&&(F.top-=h/2),F.left+=E[0],F.top+=E[1],a||(F.left=l(F.left),F.top=l(F.top)),i={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,n){e.ui.position[C[t]]&&e.ui.position[C[t]][n](F,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:h,collisionPosition:i,collisionWidth:D,collisionHeight:T,offset:[p[0]+E[0],p[1]+E[1]],my:r.my,at:r.at,within:k,elem:c})}),r.using&&(u=function(e){var t=v.left-F.left,n=t+m-d,i=v.top-F.top,a=i+g-h,l={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:F.left,top:F.top,width:d,height:h},horizontal:0>n?"left":t>0?"right":"center",vertical:0>a?"top":i>0?"bottom":"middle"};d>m&&o(t+n)<m&&(l.horizontal="center"),h>g&&o(i+a)<g&&(l.vertical="middle"),l.important=s(o(t),o(n))>s(o(i),o(a))?"horizontal":"vertical",r.using.call(this,e,l)}),c.offset(e.extend(F,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,o=e.left-t.collisionPosition.marginLeft,l=r-o,u=o+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&0>=u?(n=e.left+l+t.collisionWidth-a-r,e.left+=l-n):e.left=u>0&&0>=l?r:l>u?r+a-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=s(e.left-o,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,o=e.top-t.collisionPosition.marginTop,l=r-o,u=o+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&0>=u?(n=e.top+l+t.collisionHeight-a-r,e.top+=l-n):e.top=u>0&&0>=l?r:l>u?r+a-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=s(e.top-o,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>c?(n=e.left+h+p+f+t.collisionWidth-s-a,(0>n||n<o(c))&&(e.left+=h+p+f)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+p+f-l,(i>0||o(i)<d)&&(e.left+=h+p+f))},top:function(e,t){var n,i,r=t.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-s-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>c?(i=e.top+p+f+m+t.collisionHeight-s-a,(0>i||i<o(c))&&(e.top+=p+f+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+p+f+m-l,(n>0||o(n)<d)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,s,o=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(o?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)t.style[s]=i[s];t.appendChild(l),n=o||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=e(l).offset().left,a=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,i,r,a,s=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),r===i?a=!0:r=i+r,n=this._filterMenuItems(r),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,i=this,r=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),t=a.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,a,s,o;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,a=this.activeMenu.scrollTop(),s=this.activeMenu.height(),o=t.outerHeight(),0>r?this.activeMenu.scrollTop(a+r):r+o>s&&this.activeMenu.scrollTop(a+r-s+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0
}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).text()))})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),a="textarea"===r,s="input"===r;this.isMultiLine=a?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var a=e.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case a.UP:t=!0,this._keyEvent("previous",r);break;case a.DOWN:t=!0,this._keyEvent("next",r);break;case a.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!i)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete}),function(e){"use strict";e.widget("tradeselector.tradeautocomplete",e.ui.autocomplete,{options:{position:{of:!1},minLength:2,delay:0,headings:{exact:"Exact matches for your search",suggested:"Suggested matches for your search","no-results":"Sorry, that's not a trade we know! Please try again"}},_create:function(){this._super(),this.widget().menu("option","items","> :not(.js-result-heading)"),this.element.attr({autocorrect:"off",autocapitalize:"off",spellcheck:!1})},_close:function(e){this._trigger("beforeclose")&&this._super(e)},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(e,n){n.type!==r&&(t.append('<li class="js-result-heading heading">'+i.options.headings[n.type]+"</li>"),r=n.type),"No results"!=n.value&&i._renderItemData(t,n)})},_renderItem:function(t,n){return e("<li>").attr("data-value",n.value).addClass("qa-"+n.type).append(e("<a>").html(n.label)).appendTo(t)},_resizeMenu:function(){}}),e.widget("tradeselector.trade_search",e.bijou.base,{options:{searchUrl:null,redirectUrl:null,vertical:null,minLength:2},_create:function(){var t=this.element.find("select");if(t.length)return void this._on(t,{change:function(){var e=t.find("option").eq(t[0].selectedIndex).attr("vertical");this._shouldRedirect(e)&&this._redirect(e,t.val())}});{var n=this;this.options.searchUrl}this.breakpointEnabled(),this.element.attr("tabindex",-1),this.inputElement=this.element.find(".js-search-input"),this.tradeInput=this.element.find(".js-trade-input"),this.answerPlaceholder=this.element.find(".answer"),this.menuElement=this.element.find(".results"),this.tradeInput.val()&&this._trackChanges(),this.currentResults=[],this.inputElement.tradeautocomplete({appendTo:this.menuElement,minLength:this.options.minLength,source:function(e,t){n._search(e.term).done(function(){t(n.currentResults)})}}),this._on(this.inputElement,{focus:function(){this._scrollToTop()},input:function(){this.window.scrollTop()>this.inputElement.closest(".control").offset().top&&this._scrollToTop()},tradeautocompleteselect:function(e,t){return this._select(t.item),!1},tradeautocompletesearch:function(){this._resetValidation()},tradeautocompleteopen:function(){this.element.addClass("open")},tradeautocompletebeforeclose:function(){return this.inputElement.val().length<this.options.minLength},tradeautocompleteclose:function(){this.element.removeClass("open")},keypress:function(t){if(t.keyCode===e.ui.keyCode.ENTER){var n,i=e.trim(this.inputElement.val()).toLowerCase();e.each(this.currentResults,function(e,t){return t.value&&t.value.toLowerCase()===i?(n=t,!1):void 0}),n&&(this._select(n),t.preventDefault())}}}),this._on({"click .js-change":function(e){var t=this.inputElement.val().length,n=this.inputElement[0];if(e.preventDefault(),this.element.removeClass("state-selected").addClass("state-search"),this.inputElement.focus(),n.setSelectionRange)n.setSelectionRange(t,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}0===this.currentResults.length&&this.inputElement.tradeautocomplete("search")},questionHide:function(){this.element.removeClass("state-selected").addClass("state-search"),this.inputElement.val(""),this.inputElement.tradeautocomplete("close")}}),this._on(this.options.form,{validate:function(e){this._validate()||e.preventDefault()}})},_search:function(t){var n=this;this.xhr&&this.xhr.abort();var i={q:t,path:window.location.pathname};return(this.options.vertical||this.options.backoffice)&&(i.vertical=this.options.vertical),this.options.backoffice&&(i.backoffice=this.options.backoffice),this.xhr=e.getJSON(this.options.searchUrl,i,function(e){n.currentResults=e.results,0===n.currentResults.length&&n.currentResults.push({label:"No results",value:"No results",type:"no-results"})})},_select:function(e){this.inputElement.val(e.value),this._shouldRedirect(e.vertical)?this._redirect(e.vertical,e.value):(this._resetValidation(),this.tradeInput.val(e.value),this.tradeInput.trigger("change"),this._trackChanges(),this.answerPlaceholder.text(e.value),this.element.removeClass("state-search").addClass("state-selected"),this.element.focus())},_resetValidation:function(){this.inputElement.rules("remove","trade"),this.options.form.validate().resetField(this.inputElement)},_validate:function(){return this.element.hasClass("state-search")&&!this.element.closest(".control-block").hasClass("off")?(this.inputElement.rules("add",{trade:this.inputElement.val()}),this.inputElement.valid(),this.inputElement.focus(),!1):!0},_shouldRedirect:function(t){return null===this.options.redirectUrl||this.options.backoffice?!1:t&&!e("body").hasClass(t)},_redirect:function(e,t){if(!this.options.backoffice){var n=this.options.redirectUrl+"?vertical="+encodeURIComponent(e)+"&trade="+encodeURIComponent(t);window.location=n}},_trackChanges:function(){this.options.trackedEvent&&!this.options.backoffice&&EventTracker.trigger(this.options.trackedEvent,this.tradeInput.val())},_scrollToTop:function(){if("mobile"===this.options.breakpoint){var e=this.inputElement.closest(".control").offset().top;e!==this.window.scrollTop()&&(window.scrollTo(0,e),setTimeout(function(){window.scrollTo(0,e)},400))}}}),e.validator.addMethod("trade",function(e,t,n){return this.optional(t)||e!==n},"Please select a trade to continue")}(window.jQuery),function(e){"use strict";function t(t,n){if("answered_trade"===t)return!0;var i,r;switch(t){case"dropdown":i=e(n).find("select.required")[0];break;case"radio":i=e(n).find("input.required");break;default:i=e(n).find("input.required")[0]}return r="radio"===t?i.filter(function(e,t){return t.checked}).length>0:""!==i.value}function n(n){var i=n.map(function(n,i){var r;return e(i).find("input.required").length>0?r=e(i).find("input.required")[0].type:e(i).find("select.required").length>0?r="dropdown":e(i).find(".answer").length>0&&(r="answered_trade"),"undefined"!=typeof r?t(r,i):void 0}),r=i.filter(function(e,t){return t});return r.length===i.length}e.fn.sectionTracker=function(t){var n=e.fn.sectionTracker;n.callback=t,n.element=this},e.fn.sectionTracker.check=function(){var t=e.fn.sectionTracker;t.element.each(function(i,r){var a,s=e(r).find(".on .control");if(s.length>0){var o=e(r).find("#same_correspondence_address_yes")[0];a=o&&o.checked?!0:n(s),t.callback(r,i,a)}})}}(window.jQuery),"undefined"==typeof SB&&(SB={}),SB.TrackingResult=function(){var e=function(){this.internal_buffer={}};return e.prototype={isChanged:function(e,t){var n=this.internal_buffer[e]!==t,i=this.internal_buffer.hasOwnProperty(e)?n:!0;return this.internal_buffer[e]=t,i}},e}(),function(e){"use strict";e.widget("chopin.smart_form",e.bijou.smart_form,{options:{helpTriggerHtml:"&nbsp;<span class='help-trigger info-box-toggle'>Help</span>",showHelpOnFocus:!0,showHelpOnHover:!0,customValidation:{rules:{pl_cover_limit:{validate_landlord_cover_options:{depends:landlordQuestionnaire},not:{param:"0",depends:function(t){return e("#el_cover_limit").prop("selectedIndex")>1||"optional_public_liability"==t.id&&"0"==e("#professional_indemnity").val()}}},pi_cover_limit:{not:{param:"0",depends:function(){return"0"==e("#optional_public_liability").val()}}},manual_partners:{less_than_2_partners:{depends:manualPartnersPresent}},clerical_partners:{less_than_2_partners:{depends:clericalPartnersPresent}},manual_directors:{less_than_1_director:{depends:manualDirectorsPresent}},clerical_directors:{less_than_1_director:{depends:clericalDirectorsPresent}},manual_employees:{less_than_1_employee:{depends:manualEmployeesPresent}},clerical_employees:{less_than_1_employee:{depends:clericalEmployeesPresent}}},groups:{sort_code:"sort_code[1] sort_code[2] sort_code[3]"},messages:{pl_cover_limit:{not:function(e,t){return"optional_public_liability"==t.id?"Your policy must include public liability insurance, professional indemnity insurance or both. Please choose at least one of these covers to continue.":"Employers' liability must be purchased with Public liability."},validate_landlord_cover_options:"Unfortunately we do not offer property owners' liability on its own. Please select buildings, contents or fixtures & fittings"},pi_cover_limit:{not:"Your policy must include public liability insurance, professional indemnity insurance or both. Please choose at least one of these covers to continue."},manual_partners:{less_than_2_partners:""},clerical_partners:{less_than_2_partners:"As a partnership, the total number of manual and clerical partners must be at least 2"},manual_directors:{less_than_1_director:""},clerical_directors:{less_than_1_director:"The total number of manual and clerical directors must be at least 1"},manual_employees:{less_than_1_employee:""},clerical_employees:{less_than_1_employee:"The total number of manual and clerical employees must be at least 1"}}}},_create:function(){var t=this;if(this._super(),window.EventTracker&&this._on({submit:this._trackSubmitted}),e("#el_cover_limit").on("change",function(){t._validator.submitted.pl_cover_limit&&t.element.validate().element("#pl_cover_limit")}),e("body").hasClass("landlord")){var n=function(){t._validator.submitted.pl_cover_limit&&t.element.validate().element("#pl_cover_limit")};e("#contents_sum_insured").on("change",n),e("#buildings_sum_insured").on("change",n),e("#fixtures_and_fittings_sum_insured").on("change",n)}else if(e("body").hasClass("business")){var i=function(){t._validator.submitted.manual_partners&&t._validator.submitted.clerical_partners&&(t.element.validate().element("#manual_partners"),t.element.validate().element("#clerical_partners"))},r=function(){t._validator.submitted.manual_directors&&t._validator.submitted.clerical_directors&&(t.element.validate().element("#manual_directors"),t.element.validate().element("#clerical_directors"))},a=function(){t._validator.submitted.manual_employees&&t._validator.submitted.clerical_employees&&(t.element.validate().element("#manual_employees"),t.element.validate().element("#clerical_employees"))};e("#manual_partners, #clerical_partners").on("change",i),e("#manual_directors, #clerical_directors").on("change",r),e("#manual_employees, #clerical_employees").on("change",a),e("#optional_public_liability, #professional_indemnity").on("change",function(){t._validator.submitted.pl_cover_limit&&(t.element.validate().element("#optional_public_liability"),t.element.validate().element("#professional_indemnity"))})}if(e('input[name="same_correspondence_address"]').on("change",function(){e(".copyable_correspondence").toggleClass("off",e("#same_correspondence_address_yes").is(":checked"))}),window.EventTracker&&"undefined"!=typeof SB){var s=new SB.TrackingResult;this.visibleSectionElement=e(".js-toggleable-section:visible"),this.visibleSectionElement.sectionTracker(function(t,n,i){var r=s.isChanged(n,i);r&&EventTracker.trigger("pageset_section_changed",e(t).data(),n+1,i)}),this.visibleSectionElement.sectionTracker.check(),setInterval(this.visibleSectionElement.sectionTracker.check,1e3)}this._setupQuestionnaire(),this._initHelpTooltip()},_trackSubmitted:function(){this._trackInvalidFields(),0==this._validator.errorList.length&&this.visibleSectionElement.sectionTracker.check()},_trackInvalidFields:function(){for(var t=this._validator.errorList,n=this._validator.errorMap,i=0;i<t.length;i++){var r=t[i].element,a="radio"===r.type&&!r.checked,s="checkbox"===r.type&&!r.checked,o=a||s||!e(r).val()?"BLANK":e(r).val(),l=n[r.name].replace(/<\/?[^>]+(>|$)/g,""),u=o+" - "+l;EventTracker.trigger("invalid_field_submitted",r.name,u)}},_setupQuestionnaire:function(){this.element.find("[data-trigger=refresh] :input").on("change",this._getAnswerChangedEventHandler());var e=this;this.element.on("validate",function(t){e._activeXhrRequest&&(e._activeXhrRequest.always(function(){e.element.valid()?e.element.submit():(e.options.pleaseWait&&e.enableButton(),e._validator.focusInvalid())}),e.options.pleaseWait&&e.disableButton(),t.stopImmediatePropagation(),t.preventDefault())})},_questionData:function(t,n){var i=e(n);return{question:i,name:i.data("question")}},_getAnswerChangedEventHandler:function(){var t=this,n=t.element.find(".js-toggleable-section .control-group"),i=t.element.find(".js-toggleable-section"),r=this.element.find(".js-toggleable-section .control-block").map(this._questionData);return function(){var a=this,s=t.element.serialize();logger("answer changed for",a.id),logger("form data sent",s);var o=e.ajax({type:"POST",url:location.pathname+"?step_action=check_questionnaire",data:s,dataType:"json"}).done(function(a){t._activeXhrRequest===o&&(logger("data received",a),r.each(function(){var n=this.name;t.toggleQuestion(this.question,e.inArray(n,a.questions)>-1),a.enriched_questions.hasOwnProperty(n)&&this.question.find(":input").each(function(){t.setFieldValue(e(this),a.enriched_questions[n])})}),n.each(function(){var t=e(this);t.toggleClass("off",0===t.find(".control-block.on").length)}),i.each(function(){var t=e(this);t.toggleClass("off",0===t.find(".control-block.on").length)}))}).fail(function(n,i){if(t._activeXhrRequest===o){logger("Ajax failed with ",i);var r=n.responseJSON,s=r&&r.message;s&&e(a).flashError(s)}}).always(function(){t._activeXhrRequest===o&&(t._activeXhrRequest=null)});t._activeXhrRequest=o}},toggleQuestion:function(t,n){var i=this;t.each(function(){var t=e(this),r=e.Event();if(n&&t.hasClass("off"))r.type="questionShow",t.trigger(r);else{if(n||!t.hasClass("on"))return;r.type="questionHide",t.trigger(r)}if(!r.isDefaultPrevented()){var a=t.toggleClass("on",n).toggleClass("off",!n).find(":input").prop("disabled",!n);n||(i.element.infoBoxSet("hide",t),a.each(function(){i.clearFieldValue(e(this)),i._validator.resetField(e(this))}))}})},_initHelpTooltip:function(){var t=this;this.element.infoBoxSet(),this.element.find(".info-box").each(function(){var n=e(this),i=n.find(".control-label");i.has("ul").length>0?i.find("ul").before(t.options.helpTriggerHtml):i.after(t.options.helpTriggerHtml)}),this._on({infoboxsetshown:function(e,t){"desktop"!==this.options.breakpoint&&t.box.find(".help-trigger").text("Close help")},infoboxsethidden:function(e,t){"desktop"!==this.options.breakpoint&&t.box.find(".help-trigger").text("Help")}}),this._onBreakpoint("desktop",function(){t.element.find(".info-box-active .help-trigger").text("Help")},function(){t.element.find(".info-box-active .help-trigger").text("Close help")}),this.options.showHelpOnFocus&&this._on({"focus :input":function(t){if("desktop"===this.options.breakpoint){var n=e(t.currentTarget).closest(".control-block");n.hasClass("info-box")?this.element.infoBoxSet("show",n):this.element.infoBoxSet("hide")}}}),this.options.showHelpOnHover&&this._on({"mouseenter .control-block":function(t){"desktop"===this.options.breakpoint&&this.element.infoBoxSet("show",e(t.currentTarget))},"mouseleave .control-block":function(t){"desktop"===this.options.breakpoint&&this.element.infoBoxSet("hide",e(t.currentTarget))}})}}),e.validator.addMethod("validate_landlord_cover_options",function(){var t=e("[name=contents_sum_insured]:visible").val(),n=e("[name=buildings_sum_insured]:visible").val(),i=e("[name=fixtures_and_fittings_sum_insured]:visible").val();return t||n||i}),e.validator.addMethod("less_than_2_partners",function(){return e("#number_of_partners").length>0?parseInt(e("#number_of_partners").val(),10)>=2:parseInt(e("#manual_partners").val(),10)+parseInt(e("#clerical_partners").val(),10)>=2}),e.validator.addMethod("less_than_1_director",function(){return parseInt(e("#manual_directors").val(),10)+parseInt(e("#clerical_directors").val(),10)>=1}),e.validator.addMethod("less_than_1_employee",function(){return e("#manual_employees").closest(".control-block.on").length>0&&e("#clerical_employees").closest(".control-block.on").length>0?parseInt(e("#manual_employees").val(),10)+parseInt(e("#clerical_employees").val(),10)>=1:!0})}(window.jQuery),function(e){"use strict";e.widget("backoffice.smart_form",e.chopin.smart_form,{options:{showHelpOnHover:!1,helpTriggerHtml:"<span class='help-trigger info-box-toggle'>Show help</span>"},_create:function(){this._super(),this.element.find(".js-custom-question-trigger").on("change",this._getTradeAnswerChangedEventHandler())},_getTradeAnswerChangedEventHandler:function(){var t=this,n=this.element.find(".js-toggleable-section .control-block").map(this._questionData);return function(){var i=this,r=t.element.serialize();logger("answer changed for",i.id),logger("form data sent",r);var a=e.ajax({type:"POST",url:location.pathname+"?step_action=customise_questions",data:r,dataType:"json"}).done(function(e){t.__activeXhrRequestForCustomiseQuestions===a&&(logger("data received",e),n.each(function(){var t=this.name;if(e.customised_questions.hasOwnProperty(t)){var n=this.question;n.find(".control-label").html(e.customised_questions[t].primary_text),n.find(".secondary-text").html(e.customised_questions[t].secondary_text),n.find(".tertiary-text").html(e.customised_questions[t].tertiary_text),n.find(".help-content").html(e.customised_questions[t].help_text)}}))}).fail(function(e,n){t.__activeXhrRequestForCustomiseQuestions===a&&logger("Ajax customise_questions failed with ",n)}).always(function(){t.__activeXhrRequestForCustomiseQuestions===a&&(t.__activeXhrRequestForCustomiseQuestions=null)});t.__activeXhrRequestForCustomiseQuestions=a}}})}(window.jQuery),function(){"use strict";$(function(){return $("#js-questionnaire form").smart_form()})}.call(this),function(e){"use strict";e.widget("bijou.comparison",e.bijou.base,{_create:function(){this.element.infoBoxSet(),this._on({infoboxsetshown:function(e,t){t.box.closest("td").addClass("active-info-box");var n=t.box.find(".info-box-content");t.box.hasClass("excess")||(n.removeClass("left right"),n.addClass(this._rightEdge(n)<this._rightEdge(this.element)?"right":"left")),this._scrollIntoView(n)},infoboxsethidden:function(e,t){t.box.closest("td").removeClass("active-info-box")}}),this._on(this.document,{click:function(t){0===e(t.target).closest(".info-box-toggle, .info-box-content").length&&this.element.infoBoxSet("hide")}})},_scrollIntoView:function(t){var n=this.window.height(),i=this.window.scrollTop(),r=t.outerHeight(!0),a=t.offset().top;a+r>i+n&&e("html, body").animate({scrollTop:i+(r-(n+i-a))},"fast")},_rightEdge:function(e){return e.outerWidth(!0)+e.offset().left}})}(window.jQuery),function(){$(function(){return $("a.js-show-quote-details.bottom").hide(),$("a.js-show-quote-details").on("click",function(e){var t,n,i;return e.preventDefault(),t=$(this),i=t.siblings(".quote-details"),n=t.add(t.siblings("a.js-show-quote-details")),i.is(":visible")?(i.hide(),n.filter(".bottom").hide(),n.html(n.first().text().replace("Hide","Show"))):(i.show(),n.show(),n.html(n.first().text().replace("Show","Hide")))}),$(".js-comparison-table").comparison()})}.call(this),function(){$(function(){return $("#rfq_search_filter_start_date").datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,onClose:function(e){return $("#rfq_search_filter_end_date").datepicker("option","minDate",e)}}),$("#rfq_search_filter_end_date").datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,onClose:function(e){return $("#rfq_search_filter_start_date").datepicker("option","maxDate",e)}})})}.call(this);